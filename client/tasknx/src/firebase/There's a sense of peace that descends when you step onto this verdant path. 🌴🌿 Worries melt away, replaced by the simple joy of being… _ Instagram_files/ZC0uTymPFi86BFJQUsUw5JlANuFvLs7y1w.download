;/*FB_PKG_DELIM*/

__d("WAResultOrError",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function h(a,b){if(b!=null)return{success:!1,error:a,payload:b};else return{success:!1,error:a}}function i(a){return{success:!0,value:a}}function a(a,b){return!a.success?a:i(b(a.value))}function c(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(a);case 2:d=e.sent;if(d.success){e.next=5;break}return e.abrupt("return",d);case 5:return e.abrupt("return",i(c(d.value)));case 6:case"end":return e.stop()}},null,this)}function j(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(a.success){e.next=2;break}return e.abrupt("return",a);case 2:e.next=4;return b("regeneratorRuntime").awrap(c(a.value));case 4:d=e.sent;return e.abrupt("return",i(d));case 6:case"end":return e.stop()}},null,this)}function d(a,b){return a.success?i(a.value):h(b(a.error),a.payload)}function k(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.success){e.next=2;break}return e.abrupt("return",i(a.value));case 2:e.next=4;return b("regeneratorRuntime").awrap(c(a.error));case 4:d=e.sent;return e.abrupt("return",h(d,a.payload));case 6:case"end":return e.stop()}},null,this)}function e(a,b){return a.success?b(a.value):a}function l(a,c){return a.success?c(a.value):(g||(g=b("Promise"))).resolve(a)}function m(a){return function(b){return j(b,a)}}function n(a){return function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(k(c,a));case 2:case"end":return d.stop()}},null,this)}}f.makeError=h;f.makeResult=i;f.mapResult=a;f.mapAsyncResult=c;f.asyncMapResult=j;f.mapError=d;f.asyncMapError=k;f.chain=e;f.asyncChain=l;f.onResult=m;f.catchError=n}),66);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","messenger_web_product");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("XPlatReactEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseEventEmitter")}),98);
__d("LSPlatformErrorChannel",["XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="onLSError",i=new(c("XPlatReactEventEmitter"))(),j;function a(a){j=a,i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}function d(){return j}function e(){i.removeAllListeners(h),j=null}f={TEST_ONLY_clear:e,emit:a,lastError:d,subscribe:b};g["default"]=f}),98);
__d("BroadcastChannelClientServerHandshake",["FBLogger","Promise","Random","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.addEventListener("message",function(b){var c;((c=b.data)==null?void 0:c.type)==="BroadcastChannelHandshake-syn"&&a.postMessage({nonce:b.data.nonce,type:"BroadcastChannelHandshake-syn-ack"})})}function e(a,e){var f=d("Random").random(),g=0;return new(h||(h=b("Promise")))(function(b,d){var h=!1,i=function b(){if(g===6){h=!0;a.removeEventListener("message",j);try{throw c("FBLogger")("mpf_web_foundations").mustfixThrow("BC handshake failed, failing, likely worker failure%s",e!=null?" for"+e:"")}catch(a){d(a)}return}if(h)return;a.postMessage({nonce:f,type:"BroadcastChannelHandshake-syn"});c("setTimeout")(b,100*Math.pow(2,g++))},j=function c(d){var e;((e=d.data)==null?void 0:e.type)==="BroadcastChannelHandshake-syn-ack"&&((e=d.data)==null?void 0:e.nonce)===f&&(b(),h=!0,a.removeEventListener("message",c))};a.addEventListener("message",j);i()})}g.listen=a;g.checkAlive=e}),98);
__d("CometTaskFrameworkTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BACKGROUND","CURRENT_THREAD","LS_WORKER","MAW_WORKER","TEST"]);c="comet_task_framework";f.ExecutionContext=a;f.TASK_FRAMEWORK_PREFIX=c}),66);
__d("getBroadcastChannelForExecutionContext",["CometTaskFrameworkTypes","MWBroadcastChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("MWBroadcastChannel").MWBroadcastChannel(d("CometTaskFrameworkTypes").TASK_FRAMEWORK_PREFIX+"_"+String(a))}g["default"]=a}),98);
__d("CometTaskHandlers",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";b={29:(a=c("JSResourceForInteraction"))("IGDSendRemoveReactionTaskHandler").__setRef("CometTaskHandlers"),33:a("IGDUnsendTaskHandler").__setRef("CometTaskHandlers"),46:a("IGDSendMessageTaskHandler").__setRef("CometTaskHandlers"),add:a("AddTaskHandler").__setRef("CometTaskHandlers"),get_messenger_db_dump_attachments_for_bug_reporting:a("GetMessengerDBDumpAttachments").__setRef("CometTaskHandlers"),igd_send_media_message:a("IGDSendMediaMessageTaskHandler").__setRef("CometTaskHandlers"),igd_send_xma_receiver_fetch:a("IGDSendXmaReceiverFetchTaskHandler").__setRef("CometTaskHandlers"),maw_get_devices:a("MAWGetDevicesTaskHandler").__setRef("CometTaskHandlers"),preload_messenger_db_dump_attachments_for_bug_reporting:a("PreloadDBDumpAttachments").__setRef("CometTaskHandlers"),test:a("TestNativeTaskHandler").__setRef("CometTaskHandlers"),zenon_send_chatd_mws_message:a("MAWZenonSendMultiwayMsgChatdTaskHandler").__setRef("CometTaskHandlers")};g.TASK_HANDLERS_RESOURCES=b}),98);
__d("loadTaskHandlerResource",["CometTaskHandlers","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("CometTaskHandlers").TASK_HANDLERS_RESOURCES[a];return a==null?null:a.getModuleIfRequired()||a.load()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("executeTask.xplat",["BroadcastChannelClientServerHandshake","CometTaskFrameworkTypes","FBLogger","Promise","asyncToGeneratorRuntime","err","getBroadcastChannelForExecutionContext","loadTaskHandlerResource"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g,i=(yield c("loadTaskHandlerResource")(f));if(i==null)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("No task handler found for %s",f);var j=(g=e.executionContext)!=null?g:i.executionContext;return j===d("CometTaskFrameworkTypes").ExecutionContext.CURRENT_THREAD||j==null?i.handleTask(a,e):new(h||(h=b("Promise")))(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){var h=c("getBroadcastChannelForExecutionContext")(j);yield d("BroadcastChannelClientServerHandshake").checkAlive(h);var i={context:e,name:f,payload:a,type:"execute_task"};h.postMessage(i);function k(a){var d;if((a==null?void 0:(d=a.data)==null?void 0:(d=d.context)==null?void 0:d.taskID)!==e.taskID)return;switch(a.data.type){case"task_success":b(a.data.result);h.close();h.removeEventListener("message",k);break;case"task_failure":g(c("err")("Task Execution Failed for: "+e.taskID+", "+f));h.close();h.removeEventListener("message",k);break;default:}}h.addEventListener("message",k)});return function(a,b){return g.apply(this,arguments)}}())});return i.apply(this,arguments)}g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-1.0.3")()}),null);
__d("WACryptoDependencies",["tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=self.crypto;function a(a){h=a;var b=65536;d("tweetnacl").setPRNG(function(c,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=b)a.getRandomValues(f.subarray(e,e+Math.min(d-e,b)));for(e=0;e<d;e++)c[e]=f[e];for(e=0;e<f.length;e++)f[e]=0})}function b(){return h}g.setCrypto=a;g.getCrypto=b}),98);
__d("WAErr",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=new Error(a);if(a.stack===void 0)try{throw a}catch(a){}return a}f["default"]=a}),66);
__d("WAHex",["WACryptoDependencies","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=16,i=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],j=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return k(a)}function k(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(i[d>>4],i[d&15])}return String.fromCharCode.apply(String,b)}function b(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(j[d>>4],j[d&15])}return String.fromCharCode.apply(String,b)}function e(a){a=m(a);if(a.length%2!==0)throw c("WAErr")('parseHex given hex "'+a+'" which is not a multiple of 8-bits.');var b=new Uint8Array(a.length>>1);for(var d=0,e=0;d<a.length;d+=2,e++)b[e]=l(a,d)<<4|l(a,d+1);return b.buffer}function l(a,b){a=a.charCodeAt(b);if(a<=57)return a-48;else if(a<=70)return 10+a-65;else return 10+a-97}function m(a){if(/[^0-9a-fA-F]/.test(a))throw c("WAErr")('"'+a+'" is not a valid hex');return a}function f(a){var b=a.buffer;return a.byteOffset===0&&a.length===b.byteLength?b:b.slice(a.byteOffset,a.byteOffset+a.length)}function n(a){var b=!0,c=a.length;while(b&&c){var d=a[--c];b=32<=d&&d<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return k(a)}function o(a,b){b===void 0&&(b=!1);a=m(a);w(a,h);return(b?"-":"")+"0x"+q(a,h)}function p(a,b,c){c===void 0&&(c=!1);a=x(a);b=x(b);return(c?"-":"")+"0x"+a+b}function q(a,b){b=b-a.length;a=a;for(var c=0;c<b;c++)a="0"+a;return a}function r(a){var b=a<0;a=b?(-a).toString(16):a.toString(16);return o(a,b)}function s(a){return a.substring(a.indexOf("0x")+2)}function t(a){return a[0]==="-"}function u(a,b){var c=t(a),d=t(b);if(c!==d)return!c;d=s(a)>s(b);return c?!d:d}function v(a){return t(a)?a.slice(1):"-"+a}function w(a,b){if(a.length>b)throw c("WAErr")('"'+a+'" is longer than '+b*4+" bits.")}function x(a){if(a>4294967295||a<-4294967296)throw c("WAErr")("uint32ToLowerCaseHex given number over 32 bits");a=(a>=0?a:4294967296+a).toString(16);return q(a,8)}g.NUM_HEX_IN_LONG=h;g.HEX_LOWER=j;g.randomHex=a;g.toHex=k;g.toLowerCaseHex=b;g.parseHex=e;g.hexAt=l;g.hexOrThrow=m;g.bytesToBuffer=f;g.bytesToDebugString=n;g.createHexLong=o;g.createHexLongFrom32Bits=p;g.hexLongFromNumber=r;g.hexLongToHex=s;g.hexLongIsNegative=t;g.isBiggerHexLong=u;g.negateHexLong=v}),98);
__d("WANullthrows",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="?");if(a==null)throw c("WAErr")("Unexpected null or undefined: "+b);return a}g["default"]=a}),98);
__d("WALoggerUtils",["WAHex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(typeof a==="string")return"'"+a+"'";else if(a==null||typeof a!=="object")return String(a);else if(Array.isArray(a))return"["+a.join(",")+"]";else if(a instanceof Uint8Array)if(a.length<64)return"<<"+i(a)+">>";else{var b=a.subarray(0,32);return"<<"+i(b)+", "+(a.length-b.length)+" more bytes>>"}else if(a instanceof Error)return a.name?"("+a.name+")":"";else if(a.toString===Object.prototype.toString)return JSON.stringify(a,function(a,b){return a?String(b):b});else return String(a)}function i(a){var b=!0,c=a.length;while(b&&c){var e=a[--c];b=32<=e&&e<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return d("WAHex").toHex(a)}function a(a,b){var c=[a[0]];b.forEach(function(b,d){c.push(h(b),a[d+1])});return c.join("")}g.debugStr=h;g.bytesToDebugString=i;g.rebuildTemplate=a}),98);
__d("WATagsLogger",["Promise","WALoggerUtils","WANullthrows","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] ",""]);i=function(){return a};return a}var j,k=new(h||b("Promise"))(function(a){j=a});function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(k);case 2:case"end":return a.stop()}},null,this)}var l=null;function e(a){l=a,j==null?void 0:j(),j=null}function m(){return c("WANullthrows")(l,"WALogger called before initialization")}function n(a){return{TAGS:function(b){return n([].concat(a,b))},DEV:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"DEV",template:b,expressions:e,logString:g};m().debug(g,a,h);return o(h)},DEV_XMPP:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"DEV_XMPP",template:b,expressions:e,logString:g};m().logRestricted(g,a,h);return o(h)},LOG:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"LOG",template:b,expressions:e,logString:g};m().info(g,a,h);return o(h)},WARN:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"WARN",template:b,expressions:e,logString:g};m().warn(g,a,h);return o(h)},ERROR:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"ERROR",template:b,expressions:e,logString:g},i=void 0;for(var j=0;j<e.length;j++){var k=e[j];if(k instanceof Error){i=k;break}}i!=null?m().error(g,a,i,h):m().error(g,a,void 0,h);return o(h)},CATCHING:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"CATCHING",template:b,expressions:e,logString:g};m().error(g,a,void 0,h);return o(h)},EXPECTED_ERROR:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"ERROR",template:b,expressions:e,logString:g,tags:[].concat(a)};return o(h)}}}function o(a){return{verbose:function(){a.verbose=!0;return o(a)},color:function(b){a.color=b;return o(a)},devConsole:function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];(b=m()).devConsole.apply(b,[a.level,a.logString,[]].concat(d));return o(a)},sendLogs:function(b,c){if(m().sendLogs!=null)a.sendLogs={reason:b,sampling:c},m().sendLogs==null?void 0:m().sendLogs(a);else if(a.level!=="ERROR"&&a.level!=="CATCHING")return n([]).ERROR(i(),b,a.logString);return o(a)},tags:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];a.tags=c;m().tags!=null&&(m().tags==null?void 0:m().tags(c));return o(a)},expect:function(b){if(a.level!=="ERROR")return o(a);var c=void 0;for(var d=a.expressions,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g instanceof Error){c=g;break}}f=(d=(f=(g=c)==null?void 0:g.message)!=null?f:(e=c)==null?void 0:e.name)!=null?d:(g=c)==null?void 0:g.description;for(e=0;e<b.length;e++){d=b[e];if(f==null?void 0:f.includes(d)){m().error(a.logString,[].concat((g=a.tags)!=null?g:[],["expected-error-log"]),(d=c)!=null?d:void 0,a);return o(a)}}m().error(a.logString,(g=a==null?void 0:a.tags)!=null?g:[],(d=c)!=null?d:void 0,a);return o(a)}}}g.whenReady=a;g.initializeWaLogger=e;g.TAGS=n;g.getWaLoggerAdditionalOptions=o}),98);
__d("WALogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS([]);b=a.DEV;c=a.DEV_XMPP;e=a.LOG;f=a.WARN;d=a.ERROR;a=a.EXPECTED_ERROR;g.DEV=b;g.DEV_XMPP=c;g.LOG=e;g.WARN=f;g.ERROR=d;g.EXPECTED_ERROR=a}),98);/*FB_PKG_DELIM*/
__d("IGDWebUtils",["CurrentUserInitialData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a!=null?a===1217981644879628||a===936619743392459||a===487152425211411||a===1035956773910536:!1}function a(){return i(Number((h||(h=c("CurrentUserInitialData"))).APP_ID))}g.isInstagramWebSupportedApp=i;g.isOnInstagramWeb=a}),98);
__d("MAWCurrentUser",["CurrentUserInitialData","FBLogger","IGDWebUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=Number(i());if(a===772021112871879||a===2220391788200892||a===256281040558)return k();else if(d("IGDWebUtils").isInstagramWebSupportedApp(a))return j();return k()}function i(){return(h||(h=d("CurrentUserInitialData"))).APP_ID}function b(){return c("gkx")("24028")}function e(){return!!(h||(h=d("CurrentUserInitialData"))).IS_EMPLOYEE}function j(){var a;((a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0")==="0"&&c("FBLogger")("messenger_e2ee_web").warn("EIMU is null");return(a=(h||(h=d("CurrentUserInitialData"))).IG_USER_EIMU)!=null?a:"0"}function k(){if((h||(h=d("CurrentUserInitialData"))).USER_ID==="0"){var a=i();c("FBLogger")("messenger_e2ee_web").warn("FBID is null with appId %s",a)}return(h||(h=d("CurrentUserInitialData"))).USER_ID}g.getID=a;g.getAppID=i;g.isTlcPublicUser=b;g.isEmployee=e}),98);
__d("MWLSDatabaseNames",[],(function(a,b,c,d,e,f){"use strict";a="LightSpeed";b=a+"V3";f.name=a;f.lightspeedPrefix=b}),66);
__d("MWIndexedDBDelete",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MWLSDatabaseNames","ODS","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){try{if(a===1)return""+d("MWLSDatabaseNames").name+d("MAWCurrentUser").getID();else return d("MWLSDatabaseNames").name+"V"+a+d("MAWCurrentUser").getID()}catch(a){return null}}function a(a){var b;if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&((b=window)==null?void 0:b.indexedDB)!=null){var e=j(a);if(e!=null)if(typeof window.indexedDB.databases==="function"){b=window.indexedDB.databases();b.then(function(a){a.forEach(function(a){var b=a.name||"";if(b===e){a=window.indexedDB.deleteDatabase(b);a.onsuccess=function(){c("FBLogger")("messenger_web_product").info("MW PDB deletion success for "+b)};a.onblocked=function(){c("recoverableViolation")("[db clean up patch] Cannot delete db: blocked","messenger_web_product"),(h||(h=d("ODS"))).bumpEntityKey(3185,"mw_pdb_delete","blocked")};a.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"mw_pdb_delete","error"),c("recoverableViolation")("[pdb clean up patch] Cannot delete db","messenger_web_product")}}})})["catch"](function(a){c("recoverableViolation")("[pdb clean up patch] LS delete databases error","messenger_web_product",{error:a})})}else{a=window.indexedDB.deleteDatabase(e);a.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"mw_pdb_delete","success_v2")};a.onblocked=function(){c("recoverableViolation")("[db clean up patch v2] Cannot delete db: blocked","messenger_web_product"),(h||(h=d("ODS"))).bumpEntityKey(3185,"mw_pdb_delete","blocked_v2")};a.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"mw_pdb_delete","error_v2"),c("recoverableViolation")("[pdb clean up patch v2] Cannot delete db","messenger_web_product")}}}}g.getUserDbNameForVersion=j;g.deleteAllDBs=a}),98);
__d("GetLsDatabaseForComet",["asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("GetLsDatabase").__setRef("GetLsDatabaseForComet");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h.load());return a.get()});return i.apply(this,arguments)}g.get=a}),98);
__d("IGDSAppMessengerPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M12.003 2.001a9.705 9.705 0 1 1 0 19.4 10.876 10.876 0 0 1-2.895-.384.798.798 0 0 0-.533.04l-1.984.876a.801.801 0 0 1-1.123-.708l-.054-1.78a.806.806 0 0 0-.27-.569 9.49 9.49 0 0 1-3.14-7.175 9.65 9.65 0 0 1 10-9.7Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"1.739"}),e=j.jsx("path",{d:"M17.79 10.132a.659.659 0 0 0-.962-.873l-2.556 2.05a.63.63 0 0 1-.758.002L11.06 9.47a1.576 1.576 0 0 0-2.277.42l-2.567 3.98a.659.659 0 0 0 .961.875l2.556-2.049a.63.63 0 0 1 .759-.002l2.452 1.84a1.576 1.576 0 0 0 2.278-.42Z",fillRule:"evenodd"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSAppMessengerOutlineIcon.react",["IGDSAppMessengerPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSAppMessengerPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSDirectOutlineIcon.react",["IGDSDirectPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSDirectPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("react-spring-wwwig",["react-spring-web-9.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-spring-web-9.5.2")()}),null);
__d("usePolarisDirectFeatures",["PolarisDirectStrings","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(){var a=i(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a){return a.direct.hasInteropUpgraded},a[0]=b):b=a[0];b=d("PolarisReactRedux.react").useSelector(b);var c=b?d("PolarisDirectStrings").CHATS_TITLE:d("PolarisDirectStrings").INSTAGRAM_DIRECT_NAME,e;a[1]!==c||a[2]!==b?(e={directTitle:c,hasMessagingRedesign:b,hasWebInteropCreation:b},a[1]=c,a[2]=b,a[3]=e):e=a[3];return e}g["default"]=a}),98);
__d("polarisShouldAnimate",["ExecutionEnvironment","UserAgent","once"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("once")(function(){var a,b,d;if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return!1;a=(a=window)==null?void 0:(a=a.navigator)==null?void 0:a.deviceMemory;b=(b=window)==null?void 0:(b=b.navigator)==null?void 0:b.hardwareConcurrency;d=((d=window)==null?void 0:(d=d.matchMedia("(prefers-reduced-motion: reduce)"))==null?void 0:d.matches)===!0;a=a!=null&&a>=2;b=b!=null&&b>=2;return!d&&(a||b||c("UserAgent").isBrowser("Safari >= 13"))});b=a;g["default"]=b}),98);
__d("PolarisIGAnimated.react",["polarisShouldAnimate","react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){d("react-spring-wwwig").Globals.assign({skipAnimation:!c("polarisShouldAnimate")()})}a();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props,b=a.$1;a=babelHelpers.objectWithoutPropertiesLoose(a,["$1"]);b=d("react-spring-wwwig").animated(b);return i.jsx(b,babelHelpers["extends"]({},a))};b.div=function(a){var b=a.forwardRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["forwardRef"]);return i.jsx(d("react-spring-wwwig").animated.div,babelHelpers["extends"]({ref:b},a))};return b}(i.Component);g["default"]=b}),98);
__d("usePolarisFadeTransition",["react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.duration;a=a.show;return d("react-spring-wwwig").useTransition(a,babelHelpers["extends"]({enter:{opacity:1},from:{opacity:0},leave:{opacity:0}},b!=null?{config:{duration:b}}:{}))}g["default"]=a}),98);
__d("usePolarisPanAndZoom",["react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j={friction:40,mass:5,tension:350};function a(a,b,c,e){var f=i(9),g=c===void 0?!1:c;f[0]!==e?(c=e===void 0?[]:e,f[0]=e,f[1]=c):c=f[1];e=c;f[2]!==b||f[3]!==a||f[4]!==g?(c=function(){var c;return{config:(c=b)!=null?c:j,from:a,immediate:g,reset:!0,to:a}},f[2]=b,f[3]=a,f[4]=g,f[5]=c):c=f[5];c=d("react-spring-wwwig").useSpring(c,e);e=c[0];c=c[1];var h;f[6]!==c||f[7]!==e?(h={set:c,style:e},f[6]=c,f[7]=e,f[8]=h):h=f[8];return h}g["default"]=a}),98);
__d("PolarisIGAnimate",["PolarisIGAnimated.react","usePolarisFadeTransition","usePolarisPanAndZoom"],(function(a,b,c,d,e,f){"use strict";f.Animated=importDefault("PolarisIGAnimated.react"),f.useFadeTransition=importDefault("usePolarisFadeTransition"),f.usePanAndZoom=importDefault("usePolarisPanAndZoom")}),66);
__d("LSBitFlag",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(h.and_(b,a),a)}function b(a,b){return(h||(h=d("I64"))).or_(b,a)}function c(a,b){return(h||(h=d("I64"))).and_(b,h.lognot(a))}g.has=a;g.set=b;g.clear=c;g.empty=(h||(h=d("I64"))).zero}),98);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("isPromise")))(a)&&(h||(h=c("isPromise")))(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if((h||(h=c("isPromise")))(a))return a.then(function(a){return[a,b]});return(h||(h=c("isPromise")))(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a){var b=a.find(h||(h=c("isPromise")));return!b?a:Promise.all(a)}function d(a,b){return(h||(h=c("isPromise")))(a)?a.then(b):b(a)}function i(a,b){b=b;while(!0){var d=a(b);if((h||(h=c("isPromise")))(d))return d.then(function(b){return b.action==="break"?b.value:i(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.all=b;g.map=d;g.loop=i}),98);
__d("ReStoreKeyComparer",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if((h||(h=d("I64"))).isI64(a))return"I64";else if(Array.isArray(a))return"Array";else if(typeof a==="string")return"String";else if(typeof a==="number")return"Number";else if(typeof a==="boolean")return"Boolean";else if(a instanceof Date)return"Date";else if(typeof a==="object"&&a!=null)return"Object";else if(a==="undefined")return"Undefined";else if(a===null)return"Null";return"Unknown"}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a="Expected types to be the same but got "+i(a)+" and "+i(c);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a="Unexpected type "+i(a);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),l=[[]];function m(a,b){var c=a===l,d=b===l;if(c&&d)return 0;if(c)return 1;if(d)return-1;if(a===null)return b===null?0:-1;else if(b===null)return 1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;if(Array.isArray(a)){if(!Array.isArray(b)){if(typeof b==="string")return 1;throw new j(a,b)}c=a[0];d=b[0];if(c<d)return-1;if(c>d)return 1;c=a[1];d=b[1];if(c<d)return-1;if(c>d)return 1}else if(typeof a==="string"){if(typeof b!=="string"){if(typeof b==="number"||b instanceof Date)return 1;if(Array.isArray(b))return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number"){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date)){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw new j(a,b);if(!a&&b)return-1;if(a&&!b)return 1}else throw new k(a);return 0}function n(a,b){var c;for(c=0;c<a.length&&c<b.length;c++){var d=m(a[c],b[c]);if(d!==0)return d}if(c<a.length)return 1;return c<b.length?-1:0}a=function(a,b){return n(b,a)};g.MAX_KEY=l;g.compareValue=m;g.compareKey=n;g.compareKeyDesc=a}),98);
__d("ReQLSuspenseSupportedContextTracking",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j;function a(){var a;j=(a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:(a=a.ReactCurrentDispatcher)==null?void 0:a.current}function b(){var a;a=(a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:(a=a.ReactCurrentDispatcher)==null?void 0:a.current;return a!=null&&a===j}g.useReStoreTrackInRender=a;g.isWithinReactRenderingContext=b}),98);
__d("MWCMIsAnyCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(18))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(23))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g["default"]=a}),98);
__d("LSLogHistory",["FBLogger","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={client_init:100,client_sync:50,client_task:20,db_dump:200,db_init:100,general:50,ls:50,maw_setup:10,user_experience:200},k=10;function a(){try{return Object.values(i).reduce(function(a,b){return a.concat(b)},[]).sort(function(a,b){return a.date-b.date}).map(function(a){return[a.date.toString(),a.level,a.category,a.event,a.args].join(" | ")})}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).mustfix("getEntries failed");return[[Date.now().toString(),"error","general","lightspeed_log_event","cannot create entries"].join(" | ")]}}function b(){i={}}function d(a,b,d,e){var f;d===void 0&&(d="general");e===void 0&&(e="lightspeed_log_event");var g;(h||(h=c("performance"))).timing!=null?g=Math.round((h||(h=c("performance"))).timing.navigationStart+h.now()):g=Date.now();i[d]==null&&(i[d]=[]);i[d].length>=((f=j[d])!=null?f:k)&&i[d].shift();i[d].push({args:a,category:d,date:g,event:e,level:b})}g.MAX_LIMIT=j;g.getEntries=a;g.clearEntries=b;g.log=d}),98);
__d("MessengerSimpleLogHistoryFactory",["LSLogHistory"],(function(a,b,c,d,e,f,g){"use strict";a={getInstance:function(a){return{debug:function(b,c){d("LSLogHistory").log(b,"debug",a,c)},error:function(b,c){d("LSLogHistory").log(b,"error",a,c)}}}};g.simpleFactory=a}),98);
__d("MessengerBroadcastLogHistoryFactory",["FBLogger","MessengerSimpleLogHistoryFactory","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){var e=this;this.listener=function(a){var b=d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1);a.level==="error"&&b.error(a.message,"from_"+a.page);a.level==="debug"&&b.debug(a.message,"from_"+a.page)};this.debug=function(a){for(var b=arguments.length,f=new Array(b>1?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];try{d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).debug(a),e.$2({args:f,category:e.$1,level:"debug",message:a,page:c("pageID")})}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("MessengerLogHistory debug")}};this.error=function(a){for(var b=arguments.length,f=new Array(b>1?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];try{d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).error(a),e.$2({args:f,category:e.$1,level:"error",message:a,page:c("pageID")})}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("MessengerLogHistory error")}};this.$1=a;this.$2=b};a=function(){function a(){var a=this,b;this.$1={};this.$3="ls_log_history";this.$4=function(b){var c,d=b.args,e=b.category,f=b.level,g=b.message;b=b.page;(c=a.$2)==null?void 0:c.postMessage({args:d,category:e,level:f,message:g,page:b})};this.$2=self.BroadcastChannel!=null?new self.BroadcastChannel(this.$3):null;(b=this.$2)==null?void 0:b.addEventListener("message",function(b){b=b.data;if((b==null?void 0:b.category)!=null){var c=a.$1[b==null?void 0:b.category];c==null?void 0:c.listener(b)}})}var b=a.prototype;b.getInstance=function(a){this.$1[a]||(this.$1[a]=new h(a,this.$4));return this.$1[a]};return a}();g["default"]=a}),98);
__d("MessengerLogHistory",["MessengerSimpleLogHistoryFactory"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=d("MessengerSimpleLogHistoryFactory").simpleFactory;function a(a){i=a}function b(a){h[a]||(h[a]=i.getInstance(a));return h[a]}g.setLogHistoryFactory=a;g.getInstance=b}),98);
__d("isUnjoinedCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g.isUnjoinedCMThread=a}),98);
__d("LSSuspense",["PromiseAnnotate"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{current:{error:a,state:"Error"}}}function b(a){return{current:{state:"Done",value:a}}}function c(a){var b={current:{promise:a.then(function(a){b.current={state:"Done",value:a};return a})["catch"](function(a){b.current={error:a,state:"Error"}}),state:"Loading"}};return b}function e(){return new WeakMap()}function i(a){if(a.state==="Loading")throw a.promise;else if(a.state==="Error")throw a.error;else return a.value}function f(a){return i(a.current)}function j(a,b,c){var e=a.get(b);if(e!=null)return i(e);e=c();c={promise:e.then(function(c){a.set(b,{state:"Done",value:c});return c})["catch"](function(c){a.set(b,{error:c,state:"Error"})}),state:"Loading"};var f=c.promise;if(f){void (h||(h=d("PromiseAnnotate"))).setDisplayName(f,(f=(h||(h=d("PromiseAnnotate"))).getDisplayName(e))!=null?f:"LSCollection")}a.set(b,c);return i(c)}j={getFromCollection:j,getOrSuspend:f,makeCollection:e,makeWithError:a,makeWithPromise:c,makeWithValue:b};g["default"]=j}),98);
__d("LSThreadBitOffset",["FBLogger","I64","LSBitFlag","isUnjoinedCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;f=["capabilities","capabilities2","capabilities3","capabilities4"];var i=4,j=i*64;function a(a,b){if(d("isUnjoinedCMThread").isUnjoinedCMThread(b.threadType))return!1;if(a>=j){c("FBLogger")("LSThreadBitOffset","out_of_bounds_bit_offset").mustfix("Invalid bitOffset; expected a value between 0 and %d but found %s instead",j-1,a);return!1}if(a>=192)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-192),b.capabilities4);if(a>=128)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-128),b.capabilities3);return a>=64?d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),b.capabilities2):d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.capabilities)}function b(a,b,c,e,f){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];if(b>=192)return[c,e,f,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-192),a)];if(b>=128)return[c,e,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-128),f),a];return b>=64?[c,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,a]:[d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,a]},[b,c,e,f])}function e(a,b,c,e,f){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2];a=a[3];if(b>=192)return[c,e,f,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-192),a)];if(b>=128)return[c,e,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-128),f),a];return b>=64?[c,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,a]:[d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,a]},[b,c,e,f])}g.threadCapabilityFields=f;g.MAX_SUPPORTED_THREAD_CAPABILITY=i;g.has=a;g.set=b;g.clear=e;g.empty=(h||(h=d("I64"))).zero}),98);
__d("BPlusTree",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]};a=function(){function a(a,b){b===void 0&&(b=32),this.$3={children:[],isLeaf:!0,keys:[]},this.$4=this.$3,this.$5=this.$3,this.$1=a,this.$2=b}a.fromSorted=function(a,b,c){b=new this(b,c);c=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();a=c.next();while(!a.done){var d=[],e=b.$5,f;while(!e.isLeaf)d.push([e,-1]),f=e.keys.length,e=e.children[f];f=(b.$2-1)*2;f=f-e.keys.length;while(!a.done&&f>0)e.keys.push(a.value[0]),e.children.push(a.value[1]),f--,a=c.next();b.$6(e,d,!0)}return b};var b=a.prototype;b.$7=function(a,b){var c=this.$5,d=-1;while(!c.isLeaf)b==null?void 0:b.push([c,d]),d=this.$8(c.keys,a,h.gt),d===-1&&(d=c.keys.length),c=c.children[d];return[c,d]};b.$8=function(a,b,c){var d=0,e=a.length-1;while(d<=e){var f=d+e>>1;(c[0]?this.$1(a[f],b)<0:this.$1(a[f],b)<=0)?d=f+1:e=f-1}f=[d,e][c[1]];return f===a.length?-1:f};b.$9=function(a,b){if(!a.length){a.push(b);return[0,0]}var c=this.$8(a,b,h.gte);if(c===-1)return[a.push(b)-1,0];else if(this.$1(a[c],b)===0)return[c,1];a.splice(c,0,b);return[c,0]};b.$6=function(a,b,c){for(var a=a,d;a.keys.length>=this.$2;a=d){var d=b.pop()||[this.$5={children:[a],isLeaf:!1,keys:[]}];d=d[0];var e=Math.floor(a.keys.length/2),f=void 0;a.isLeaf?(f=a.next={children:a.children.slice(e),isLeaf:!0,keys:a.keys.slice(e),next:a.next,prev:a},f.next?f.next.prev=f:this.$4=f):f={children:a.children.slice(e+1),isLeaf:!1,keys:a.keys.slice(e+1)};if(c)d.keys.push(a.keys[e]),d.children.push(f);else{var g=this.$9(d.keys,a.keys[e]);g=g[0];d.children.splice(g+1,0,f)}a.keys.length=e;a.children.length=e+(a.isLeaf?0:1)}};b.clear=function(){this.$5=this.$3=this.$4={children:[],isLeaf:!0,keys:[]}};b.delete=function(a){var b=Math.floor(this.$2/2),d=[],e=this.$7(a,d),f=e[0];e=e[1];var g=this.$8(f.keys,a,h.gte);if(g===-1||this.$1(f.keys[g],a)!==0)return!1;f.keys.splice(g,1);f.children.splice(g,1);for(var a=f,g=e,e,f;a.keys.length<b&&d.length;o=[e,f],a=o[0],g=o[1],o){f=d.pop();e=f[0];f=f[1];var i=[[e.children[g-1],a,g-1],[a,e.children[g+1],g]].filter(function(a){var b=a[0];a=a[1];return b&&a});for(var j of i){var k=j[0],l=j[1],m=j[2];if(k.keys.length+l.keys.length>=b*2){if(a.isLeaf){var n=[].concat(k.children,l.children),o=[].concat(k.keys,l.keys);k.children=(l.children=n).splice(0,b);k.keys=(l.keys=o).splice(0,b);e.keys[m]=o[0]}else{n=[].concat(k.children,l.children);o=[].concat(k.keys,[e.keys[m]],l.keys);k.children=(l.children=n).splice(0,b+1);e.keys[m]=o.splice(b,1)[0];k.keys=(l.keys=o).splice(0,b)}return!0}}for(n of i){m=n[0];k=n[1];l=n[2];m.children=[].concat(m.children,k.children);a.isLeaf?(m.keys=[].concat(m.keys,k.keys),k.keys.length=0,k.next?k.next.prev=m:this.$4=m,m.next=k.next):m.keys=[].concat(m.keys,[e.keys[l]],k.keys);e.keys.splice(l,1);e.children.splice(l+1,1);break}}if(!this.$5.keys.length&&this.$5.children.length){j=this.$5;if(j.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");this.$5=j.children[0]}return!0};b.entries=function*(a){a=a===void 0?{}:a;var b=a.dir;b=b===void 0?"asc":b;a=babelHelpers.objectWithoutPropertiesLoose(a,["dir"]);if(Object.prototype.hasOwnProperty.call(a,"gt")&&Object.prototype.hasOwnProperty.call(a,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");if(Object.prototype.hasOwnProperty.call(a,"lt")&&Object.prototype.hasOwnProperty.call(a,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");if(b==="asc"){if(Object.prototype.hasOwnProperty.call(a,"gt")){b=this.$7(a.gt);b=b[0]}else if(Object.prototype.hasOwnProperty.call(a,"gte")){var d=this.$7(a.gte);b=d[0]}else b=this.$3;d=Object.prototype.hasOwnProperty.call(a,"gt")?this.$8(b.keys,a.gt,h.gt):Object.prototype.hasOwnProperty.call(a,"gte")?this.$8(b.keys,a.gte,h.gte):0;while(b){var e=b;while(d!==-1&&d<e.keys.length){var f=e.keys[d];if(Object.prototype.hasOwnProperty.call(a,"lt")&&this.$1(f,a.lt)>=0||Object.prototype.hasOwnProperty.call(a,"lte")&&this.$1(f,a.lte)>0)return;var g=(yield [e.keys[d],e.children[d]]);if(g!=null){if(this.$1(g,f)<=0)throw c("unrecoverableViolation")("key must be greater than current key","messenger_web_product");d=this.$8(e.keys,g,h.gte);if(d===-1){var i=this.$7(g);e=i[0];d=this.$8(e.keys,g,h.gte)}}else{i=e.keys[d]!==f;if(i){d=this.$8(e.keys,f,h.lte);if(d===-1){g=this.$7(f);e=g[0];d=this.$8(e.keys,f,h.lte)}}d++}}b=e.next;d=0}}else{if(Object.prototype.hasOwnProperty.call(a,"lt")){i=this.$7(a.lt);b=i[0]}else if(Object.prototype.hasOwnProperty.call(a,"lte")){g=this.$7(a.lte);b=g[0]}else b=this.$4;f=Object.prototype.hasOwnProperty.call(a,"lt")?this.$8(b.keys,a.lt,h.lt):Object.prototype.hasOwnProperty.call(a,"lte")?this.$8(b.keys,a.lte,h.lte):b.keys.length-1;while(b){e=b;while(f!==-1&&f>=0){d=e.keys[f];if(Object.prototype.hasOwnProperty.call(a,"gt")&&this.$1(d,a.gt)<=0||Object.prototype.hasOwnProperty.call(a,"gte")&&this.$1(d,a.gte)<0)return;i=(yield [e.keys[f],e.children[f]]);if(i!=null){if(this.$1(i,d)>=0)throw c("unrecoverableViolation")("key must be less than current key","messenger_web_product");f=this.$8(e.keys,i,h.lte);if(f===-1){g=this.$7(i);e=g[0];f=this.$8(e.keys,i,h.lte)}}else{g=e.keys[f]!==d;if(g){f=this.$8(e.keys,d,h.gte);if(f===-1){i=this.$7(d);e=i[0];f=this.$8(e.keys,d,h.gte)}}f--}}b=e.prev;f=b!=null?b.keys.length-1:-1}}};b.get=function(a){var b=this.$7(a);b=b[0];var d=this.$8(b.keys,a,h.gte);if(d===-1||this.$1(b.keys[d],a)!==0)throw c("unrecoverableViolation")("key not found: "+String(a),"messenger_web_product");return b.children[d]};b.getWithDefault=function(a,b){var c=this.$7(a);c=c[0];var d=this.$8(c.keys,a,h.gte);return d===-1||this.$1(c.keys[d],a)!==0?b:c.children[d]};b.has=function(a){var b=this,c=this.$7(a);c=c[0];return c.keys.findIndex(function(c){return b.$1(a,c)===0})!==-1};b.set=function(a,b){var c=[],d=this.$7(a,c);d=d[0];a=this.$9(d.keys,a);var e=a[0];a=a[1];d.children.splice(e,a,b);this.$6(d,c,!1);return this};return a}();g.default=a}),98);
__d("LSPersistedDbGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("24032");b=c("gkx")("24032");g.anyTablesPersisted=a;g.allTablesPersisted=b}),98);
__d("LSPlatformLsInitLog",["ErrorGuard","ExecutionEnvironment","QPLUserFlow","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25305590,"1127"),k=!1,l=!1,m=[],n=c("gkx")("23405"),o=c("gkx")("22799");function p(a){k||(k=!0,l=!1,(h||(h=c("ExecutionEnvironment"))).isInWorker||a===!1?c("QPLUserFlow").start(j,{annotations:{bool:{isArmadilloPublicLaunchUser:n,mComPreInitLoad:o}},cancelOnUnload:!0,timeoutInMs:6e4}):c("QPLUserFlow").startFromNavStart(j,{annotations:{bool:{isArmadilloPublicLaunchUser:n,mComPreInitLoad:o}},cancelOnUnload:!0,onFlowTimeout:t,timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0}))}function q(a,b,d){!k&&(h||(h=c("ExecutionEnvironment"))).isInWorker&&p(),s()&&(c("QPLUserFlow").addPoint(a,((h||(h=c("ExecutionEnvironment"))).isInWorker?"worker_":"")+b),d!=null&&c("QPLUserFlow").addAnnotations(a,d))}function r(a){c("QPLUserFlow").addAnnotations(j,a)}function a(a,b){q(j,a,b)}function b(){s()&&(l=!0,c("QPLUserFlow").endSuccess(j),t())}function d(a,b){l=!0,c("QPLUserFlow").endFailure(j,a,{error:b}),t()}function s(){return k&&!l}function t(){for(var a=0;a<m.length;a++){var b=m[a];(i||(i=c("ErrorGuard"))).applyWithGuard(b,null,[])}}function e(a){m.push(a)}f={addAnnotations:function(a){var b=a.bool,c=a["int"];a=a.string;r({bool:b,"int":c,string:a})},addPoint:a,addPointForEvent:q,endFail:d,endSuccess:b,isPending:s,onCompleteOrFail:e,start:p};g.start=p;g.addPointForEvent=q;g.addAnnotations=r;g.addPoint=a;g.endSuccess=b;g.fail=d;g.isPending=s;g.onCompleteOrFail=e;g.lsInitLogger=f}),98);
__d("LSDatabaseSingleton",["CurrentUser","ExecutionEnvironment","FBLogger","InteractionTracing","LSPersistedDbGating","LSPlatformLsInitLog","MWIndexedDBDelete","MessengerLogHistory","Promise","QE2Logger","QPLUserFlow","asyncToGeneratorRuntime","cr:1027","cr:123","cr:1683","cr:3411","cr:511","cr:6587","cr:7307","gkx","justknobx","qpl","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;d("LSPersistedDbGating").anyTablesPersisted&&b("cr:7307")!=null&&d("MessengerLogHistory").setLogHistoryFactory(new(b("cr:7307"))());var j=(e=(a=b("cr:511"))!=null?a:b("cr:123"))!=null?e:b("cr:6587");d("QE2Logger").logExposureForUser("lightspeed_web_persisted_db");b("cr:1027")==null?void 0:b("cr:1027").overwriteSamplingRate();d("LSPlatformLsInitLog").start();f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("gkx")("26383");d("LSPlatformLsInitLog").addPoint("get_ls_database_start",{bool:{is_pdb:d("LSPersistedDbGating").anyTablesPersisted,loadDbEarlierEnabled:a}});c("InteractionTracing").getPendingInteractions().forEach(function(b){b.addMarkerPoint("get_ls_database_start","AppTiming"),b.addAnnotationBoolean("loadDbEarlierEnabled",a),b.addAnnotationBoolean("is_pdb",d("LSPersistedDbGating").anyTablesPersisted)});var e=(yield j.get());d("LSPlatformLsInitLog").addPoint("get_ls_database_end");c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addMarkerPoint("get_ls_database_end","AppTiming")});b("cr:1683")!=null&&b("cr:1683").checkAllThreads();try{var f=c("justknobx")._("541"),g=!d("LSPersistedDbGating").anyTablesPersisted;g&&f>0&&(d("LSPlatformLsInitLog").addPoint("should_delete_index_db_start",{"int":{versionToDelete:f}}),d("MWIndexedDBDelete").deleteAllDBs(f))}catch(a){c("recoverableViolation")("[db clean up patch] Cant delete db","messenger_web_product")}d("LSPlatformLsInitLog").addPoint("db_created");c("CurrentUser").isWorkUser()&&c("QPLUserFlow").addPoint(c("qpl")._(1036588047,"310"),"db_created");if(b("cr:3411")!==null)try{b("cr:3411").registerDb(e)}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).mustfix("LSPlatformDevtools failed to register db.")}return e});return function(){return a.apply(this,arguments)}}();var k=(i||(i=c("ExecutionEnvironment"))).isInBrowser?f().then(function(a){k=a;return a}):new(h||(h=b("Promise")))(function(){c("FBLogger")("messenger_browser_clients").warn("ExecutionEnvironment.isInBrowser returned false, returning never ending promise")});a=function(){return k};e=(h||(h=b("Promise"))).resolve(k);g.getLSDatabaseSingletonPromiseOrValue=a;g.LSDatabaseSingleton=e}),98);
__d("ReQLBounds",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return b.length<a?[].concat(b,[c]):b}function j(a,b){b===void 0&&(b=-1);return i(b,a,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY)}function k(a,b,c){if(a!=null&&b!=null)return(h||(h=d("ReStoreKeyComparer"))).compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function l(a,b){return k((a==null?void 0:a.gt)!=null?[{gt:a.gt},j(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},j(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function m(a,b){return k((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},j(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},j(b.lte)]:void 0,-1)}function a(a,b){if(a==null)return void 0;a=babelHelpers.extends({},a);a.gt!=null&&(a.gt=i(b,a.gt,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));a.lte!=null&&(a.lte=i(b,a.lte,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));return a}function b(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gt)>0:(e==null?void 0:e.gte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gte)>=0:!0;e=(e==null?void 0:e.lt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lte)<=0:!0;if(f&&e)return c(a)})}function c(a,b){if(b==null)return a;var c=l(b,a);b=m(b,a);if(c!=null&&b!=null)return babelHelpers.extends({},c,b);if(c!=null)return c;if(b!=null)return b}g.nextKey=j;g.getLowerLimit=l;g.getUpperLimit=m;g.extendBounds=a;g.forEachMatchingBounds=b;g.mergeBounds=c}),98);
__d("ReQLGlobalQueryContext",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a.get(g)}function b(a,b){a.set(g,b)}var h={contents:void 0,withinSupportedContext:!1};function c(a){var b=h.withinSupportedContext;h.withinSupportedContext=!0;try{return a()}finally{h.withinSupportedContext=b}}f.getDependencies=a;f.setDependencies=b;f.globalQueryContext=h;f.runFromContextThatHandlesThrownPromise=c}),66);
__d("ReQL",["BPlusTree","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","ReStoreKeyComparer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={bounds:b,filter:f,getKeyRange:o,map:q,take:u};function m(a,b){try{var c=(h||(h=d("ReQLGlobalQueryContext"))).globalQueryContext.contents,e=h.getDependencies(b);e==null&&(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,[]);h.globalQueryContext.contents=b;var f,g;try{f=(h||(h=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(a),g=(h||(h=d("ReQLGlobalQueryContext"))).getDependencies(b)||[]}finally{(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,e),h.globalQueryContext.contents=c}return[f,g]}catch(c){if(c instanceof Promise)return c.then(function(){return m(a,b)});throw c}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b}function b(a){var b=this;return Object.setPrototypeOf({direction:b.direction,iterator:function(c,e){return b.iterator(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))},keyLength:b.keyLength,subscribe:function(c,e){return b.subscribe(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))}},l)}var n=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},l);function e(){return n}function f(a){var b=this,c=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(e,f){var g=b.iterator(e,f);return{next:function(b){return(j||(j=d("PromiseOrValue"))).loop(function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var e=b.value,f=e[0];e=e[1];if(a(e)){(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.delete(JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:b.keyLength,subscribe:function(e,f){var g={},h=new Set();c.set(g,[(i||(i=d("ReQLBounds"))).extendBounds(f,b.keyLength),h]);var j=b.subscribe(function(b,c,d){var f=JSON.stringify(b);if(c.operation==="add"&&a(c.value)){h.add(f);return e(b,c,d)}if(c.operation==="put"&&a(c.value)){if(h.has(f))return e(b,c,d);h.add(f);return e(b,{operation:"add",value:c.value},d)}if(c.operation==="put"&&h.has(f)){h.delete(f);return e(b,{operation:"delete"},d)}if(c.operation==="delete"&&h.has(f)){h.delete(f);return e(b,c,d)}},f);return function(){c.delete(g);return j()}}},l)}function o(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=this;function f(a){return a.gt!=null?{gt:[].concat(b,a.gt)}:{gte:[].concat(b,a.gte)}}function g(a){return a.lt!=null?{lt:[].concat(b,a.lt)}:{lte:[].concat(b,a.lte)}}function h(a){return a==null?{gte:b,lte:b}:babelHelpers.extends({},a.gte!=null||a.gt!=null?f(a):{gte:b},a.lte!=null||a.lt!=null?g(a):{lte:b})}return Object.setPrototypeOf({direction:e.direction,iterator:function(a,c){var f=e.iterator(a,h(c));return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(f.next(a==null?a:[].concat(b,a)),function(a){return a.done?{done:!0}:{done:!1,value:[a.value[0].slice(b.length),a.value[1]]}})}}},keyLength:e.keyLength-b.length,subscribe:function(a,c){return e.subscribe(function(c,d,e){return a(c.slice(b.length),d,e)},h(c))}},l)}function p(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g=a.iterator(e,f),h=b.iterator(e,f),i=h.next();function l(a){return(j||(j=d("PromiseOrValue"))).map(i,function(b){var c=b.done?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return(j||(j=d("PromiseOrValue"))).map(l(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=(k||(k=d("ReStoreKeyComparer"))).compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","messenger_web_product");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0,g=a.subscribe(async function(a,e,g){return(j||(j=d("PromiseOrValue"))).map(b.iterator(g,{gte:a,lte:a}).next(),function(b){b=b.value;if(!f)return;return c(a,e.operation==="add"?{operation:"add",value:[e.value,b==null?void 0:b[1]]}:e.operation==="put"?{operation:"put",value:[e.value,b==null?void 0:b[1]]}:{operation:"delete"},g)})},e),h=b.subscribe(async function(b,e,g){return(j||(j=d("PromiseOrValue"))).map(a.iterator(g,{gte:b,lte:b}).next(),function(a){if(!f||a.done)return;return c(b,e.operation==="add"?{operation:"add",value:[a.value[1],e.value]}:e.operation==="put"?{operation:"put",value:[a.value[1],e.value]}:{operation:"delete"},g)})},e);return function(){f=!1,g(),h()}}},l)}function q(a){var b=this,c=new Map();function e(a,b,c,e,g){var h=JSON.stringify(c),i=a.get(h);i==null&&(i=[],a.set(h,i));i.forEach(function(a){return a()});i.length=0;var k=i;g.forEach(function(g){k.push(g.subscribe(function(g,h,i){return(j||(j=d("PromiseOrValue"))).map(f(a,b,c,e,i),function(a){return b(c,{operation:"put",value:a},i)})}))})}function f(b,c,f,g,h){return(j||(j=d("PromiseOrValue"))).map(m(function(){return a(g)},h),function(a){var d=a[0];a=a[1];e(b,c,f,g,a);return d})}function g(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a.delete(c)}return Object.setPrototypeOf({direction:b.direction,iterator:function(f,g){var h=b.iterator(f,g);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(h.next(b),function(g){if(g.done)return g;g=g.value;var b=g[0],h=g[1];return(j||(j=d("PromiseOrValue"))).map(j.map(m(function(){return a(h)},f),function(a){var f=a[0],g=a[1];(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,b,function(a){var c=a[0];a=a[1];return e(c,a,b,h,g)});return f}),function(a){return{done:!1,value:[b,a]}})})}}},keyLength:b.keyLength,subscribe:function(a,e){var h={},k=new Map();c.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(e,b.keyLength),[k,a]]);var l=b.subscribe(function(b,c,e){if(c.operation==="delete"){g(k,b);return a(b,c,e)}else if(c.operation==="add"){var h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"add",value:c},e)})}else if(c.operation==="put"){h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"put",value:c},e)})}},e);return function(){k.forEach(function(a){a.forEach(function(a){return a()})}),c.delete(h),l()}}},l)}function r(a,b){var c=s(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return s(a,b)},c)}function s(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","messenger_web_product");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a.length===0?[]:a.slice(0,b)}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function h(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function i(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?h(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,i(g)),l=b.iterator(c,i(g)),m=h.next(),n=l.next();return{next:function(b){b!==void 0&&(m=h.next(f(b,e)),n=l.next(f(b,e)));return(j||(j=d("PromiseOrValue"))).map(j.all2(m,n),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[[].concat(a.value[0],[b]),a.value[1]]};b?m=h.next():n=l.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=(k||(k=d("ReStoreKeyComparer"))).compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c([].concat(a,[!0]),b,d)},d),f=b.subscribe(function(a,b,d){return c([].concat(a,[!1]),b,d)},d);return function(){e(),f()}}},l)}function t(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","messenger_web_product");return Object.setPrototypeOf({direction:a.direction,iterator:function(c,e){var f=a.iterator(c,e),g=b.iterator(c,e);function h(a){return(j||(j=d("PromiseOrValue"))).loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var l=(k||(k=d("ReStoreKeyComparer"))).compareKey(e,i);if(l>0)return(j||(j=d("PromiseOrValue"))).map(j.all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(l<0)return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0;function g(a,b,e,g,h){return(j||(j=d("PromiseOrValue"))).map(a.iterator(h,{gte:e,lte:e}).next(),function(a){if(a.done||!f)return;a=a.value[1];a=g.operation==="add"?{operation:"add",value:b(g.value,a)}:g.operation==="put"?{operation:"put",value:b(g.value,a)}:g;return c(e,a,h)})}var h=a.subscribe(function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return g.apply(void 0,[b,function(a,b){return[a,b]}].concat(c))},e),i=b.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},e);return function(){f=!1,h(),i()}}},l)}function u(a){var b=this,e=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(c,f){var g=b.iterator(c,f),h=0;return{next:function(b){if(h>=a)return{done:!0};else return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){b.done||(i||(i=d("ReQLBounds"))).forEachMatchingBounds(e,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:b.keyLength,subscribe:function(f,g){var h={},l=b.direction==="asc"?1:-1,m=new(c("BPlusTree"))(function(a,b){return(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b)*-l}),n={contents:0};e.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(g,b.keyLength),[m,n]]);var o=b.subscribe(function(c,g,i){var o,p=(o=m.entries().next().value)==null?void 0:o[0];o=p==null?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(c,p)*l<=0;if(g.operation==="delete"&&o){var q;n.contents>0&&(m.delete(c),q=f(c,g,i));return(j||(j=d("PromiseOrValue"))).map(q,function(){return(j||(j=d("PromiseOrValue"))).map(b.iterator(i,p==null?void 0:l===1?{gt:p}:{lt:p}).next(),function(a){if(!a.done&&e.has(h)){m.set(a.value[0],void 0);return f(a.value[0],{operation:"add",value:a.value[1]},i)}n.contents>0&&(n.contents-=1)})})}if(g.operation==="add"&&n.contents<a){n.contents+=1;m.set(c,void 0);return f(c,g,i)}if(g.operation==="add"&&o){var r;p!=null&&(m.delete(p),r=f(p,{operation:"delete"},i));return(j||(j=d("PromiseOrValue"))).map(r,function(){m.set(c,void 0);return f(c,g,i)})}if(g.operation==="put"&&o)return f(c,g,i)},g);return function(){e.delete(h);return o()}}},l)}var v=new WeakMap();function w(a,b){var c=v.get(a);if(c!=null)return c;c=b.reduce(function(b,c,d){b[c]=a[d];return b},{});v.set(a,c);return c}function x(a,b,c,e,f){if(f==null||f.length>a.keyFields.length||f.some(function(b){return a.keyFields.indexOf(b)===-1}))return a.entries(b,c,e);var g=a.keys(b,c,e);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){return b.done?{done:!0}:{done:!1,value:[b.value,w(b.value,a.keyFields)]}})}}}function y(a,b){return Object.setPrototypeOf({direction:"asc",iterator:function(c,d){return x(a,c,"asc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function z(a,b){return Object.setPrototypeOf({direction:"desc",iterator:function(c,d){return x(a,c,"desc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function A(a){var b=[],c=a.iterator(new WeakMap());return Promise.resolve((j||(j=d("PromiseOrValue"))).loop(function(){return(j||(j=d("PromiseOrValue"))).map(c.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value[1]);return{action:"continue",value:void 0}})}))}async function B(a){a=a.iterator(new WeakMap());a=await a.next();return a.done?void 0:a.value[1]}async function C(a){a=a.iterator(new WeakMap());a=await a.next();if(a.done)throw c("unrecoverableViolation")("expected result","messenger_web_product");return a.value[1]}function D(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var l=a.iterator(e,g);return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(l.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},l)}g.prototype=l;g.key=a;g.empty=e;g.leftJoin=p;g.union=r;g.mergeJoin=t;g.fromTableAscending=y;g.fromTableDescending=z;g.toArrayAsync=A;g.firstAsync=B;g.firstExnAsync=C;g.prependKey=D}),98);
__d("SortedAsyncIterable",["PromiseAnnotate","PromiseOrValue","ReQLGlobalQueryContext","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){var b;if((i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents==null){var c=new WeakMap();(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents=c;return c}c=(i||(i=d("ReQLGlobalQueryContext"))).globalQueryContext.contents;(b=(i||(i=d("ReQLGlobalQueryContext"))).getDependencies(c))==null?void 0:b.push(a);return c}function a(a){var b=[],e=a.iterator(l(a)),f=(k||(k=d("PromiseOrValue"))).loop(function(){return(k||(k=d("PromiseOrValue"))).map(e.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value);return{action:"continue",value:void 0}})});return(h||(h=c("isPromise")))(f)?(j||(j=d("PromiseAnnotate"))).setDisplayName(f,"ReQL"+(a.uniqueId!=null?"_"+a.uniqueId:"")):f}g.getOrCreateContext=l;g.toArray=a}),98);
__d("applyChangesToBPlusTree",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=!1;for(var e=0;e<b.length;e++){var f=b[e],g=f[0];f=f[1];switch(f.operation){case"delete":a["delete"](g);break;case"put":var i=a.getWithDefault(g,void 0);if(i===f.value)continue;i=(h||(h=d("I64"))).cast(i);if(i!=null){var j=(h||(h=d("I64"))).cast(f.value);if(j!=null&&(h||(h=d("I64"))).equal(i,j))continue}case"add":a.set(g,f.value);break}c=!0}b.length=0;return c}g["default"]=a}),98);
__d("createBPlusTreeFromSorted",["BPlusTree","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("BPlusTree").fromSorted(a,b==="asc"?(h||(h=d("ReStoreKeyComparer"))).compareKey:(h||(h=d("ReStoreKeyComparer"))).compareKeyDesc,64)}g["default"]=a}),98);
__d("shallowEqualI64",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){if(a===b)return!0;return i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):!1}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("ReStoreProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext();function a(a){var b=a.children;a=a.db;return i.jsx(j.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.context=j;g.ReStoreProvider=a}),98);
__d("useReStore",["LSDatabaseSingleton","LSSuspense","PromiseAnnotate","ReQLSuspenseSupportedContextTracking","ReStoreProvider.react","react","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=(m||d("react")).useContext,o=(h||(h=c("LSSuspense"))).makeCollection();function a(){d("ReQLSuspenseSupportedContextTracking").useReStoreTrackInRender();var a=n((l||(l=d("ReStoreProvider.react"))).context);if(a!=null)return a;(i||(i=c("suspendOrThrowIfUsedInSSR")))("useReStore: LSDB is not available in SSR. Switching to client side render");void (j||(j=d("PromiseAnnotate"))).setDisplayName((k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton,"LSDatabaseSingleton");return(h||(h=c("LSSuspense"))).getFromCollection(o,k.LSDatabaseSingleton,function(){return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton})}g["default"]=a}),98);
__d("ReQLSuspense",["FBLogger","I64","Promise","PromiseAnnotate","PromiseOrValue","ReQL","ReQLGlobalQueryContext","ReQLSuspenseSupportedContextTracking","SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","react","shallowEqualI64","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=m||d("react"),q=p.startTransition,r=p.useEffect,s=p.useMemo,t=p.useState;function u(){var a=(o||(o=d("ReQLGlobalQueryContext"))).globalQueryContext.withinSupportedContext===!0;return a?!0:d("ReQLSuspenseSupportedContextTracking").isWithinReactRenderingContext()}function v(a,b,e){e===!0&&!u()&&c("FBLogger")("messenger_web","reqlsuspense_unsupported_use").blameToPreviousFile().mustfix("Detected use of ReQLSuspense method in unsupported context.\ntoArray/first/firstExn can only be used inside the body of a projection function passed to ReQL map operator.\nFor React rendering contexts, please use appropriate hook (useArray/useFirst/useFirstExn) variants instead.");if((i||(i=c("isPromise")))(a))if(b!=null)throw(n||(n=d("PromiseAnnotate"))).setDisplayName(a,b);else throw a;return a}function w(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])?b.push(e[0],e[1]):b.push(e,void 0)}return b}function x(a){var b=arguments[1];return v(d("SortedAsyncIterable").toArray(a),b,!0).map(function(a){a[0];a=a[1];return a})}function y(a){var b=arguments[1];return x(d("ReQL").prototype.take.call(a,1),b)[0]}function z(a){var b=arguments[1],d=y(a,b);if(d==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return d}function a(a,e){var f=arguments[2],g=s(function(){var b=a();b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){return v(d("SortedAsyncIterable").toArray(g)).map(function(a){a[0];a=a[1];return a})},[g]),l=t([i,g]),m=l[0],n=l[1],o=(j||(j=c("useReStore")))();r(function(){var a,e=[],f=g.subscribe(function(a,b){return void e.push([a,b])});function i(){if(e.length&&a!=null){var b=a;c("applyChangesToBPlusTree")(b,e)&&n([Array.from(b.entries(),function(a){return a[1]}),g])}}var j=o.subscribeToCommit(i);c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(d("SortedAsyncIterable").toArray(g),function(b){a=c("createBPlusTreeFromSorted")(b,g.direction);var f=a;c("applyChangesToBPlusTree")(f,e);q(function(){return n(function(a){var b=Array.from(f.entries(),function(a){return a[1]});return d("shallowEqualI64").shallowEqualI64(a[0],b)&&a[1]===g?a:[b,g]})})})));return function(){j(),f()}},[g,o]);return g===m[1]?m[0]:i}function A(a,e){var f=arguments[2],g=s(function(){var b=a().take(1);b.uniqueId=f;return b},e==null?[a]:w(e)),i=s(function(){var a;return(a=v(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),f).value)==null?void 0:a[1]},[g,f]),m=t([i,g]),n=m[0],o=m[1],p=(j||(j=c("useReStore")))();r(function(){var a,e=!1,f=g.subscribe(function(b,c){switch(c.operation){case"delete":a=void 0;break;case"put":if(a===c.value)return;b=(l||(l=d("I64"))).cast(a);if(b!=null){var f=(l||(l=d("I64"))).cast(c.value);if(f!=null&&(l||(l=d("I64"))).equal(b,f))return}case"add":a=c.value;break}e=!0}),i=F(p,function(){e&&(e=!1,o([a,g]))});c("promiseDone")((h||(h=b("Promise"))).resolve((k||(k=d("PromiseOrValue"))).map(g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)).next(),function(b){var c;q(function(){return o(function(a){var c;return a[0]===((c=b.value)==null?void 0:c[1])&&a[1]===g?a:[(c=b.value)==null?void 0:c[1],g]})});a=(c=b.value)==null?void 0:c[1]})));return function(){i(),f()}},[g,p]);return g===n[1]?n[0]:i}function e(a,b){var d=arguments[2],e=A(a,b,d);if(e==null)throw c("FBLogger")("messenger_web").mustfixThrow("expected result");return e}function B(a,b,c,e){var f=s(function(){var b=a();b.uniqueId=c;return b},b==null?[a]:w(b));return s(function(){return(o||(o=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(function(){return e(f)})},[f,e])}function f(a,b){return B(a,b,arguments[2],x)}function C(a,b){return B(a,b,arguments[2],y)}function D(a,b){return B(a,b,arguments[2],z)}var E=new Map();function F(a,b){var c=E.get(a);if(c==null){var d=new Map();c={handlers:d,unsubscribe:a.subscribeToCommit(function(){q(function(){return d.forEach(function(a){return a()})})})};E.set(a,c)}var e={};c.handlers.set(e,b);var f=c;return function(){f.handlers["delete"](e),f.handlers.size===0&&(f.unsubscribe(),E["delete"](a))}}g.toArray=x;g.first=y;g.firstExn=z;g.useArray=a;g.useFirst=A;g.useFirstExn=e;g.useArrayWithoutSubscribing=f;g.useFirstWithoutSubscribing=C;g.useFirstExnWithoutSubscribing=D}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1,pageType:a[47]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,metadata:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,metadata:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.forEach(b.db.table(2).fetch([[[d.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){return a["delete"]()}))})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSIterationOperations",["FBLogger","I64","LSDict","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function k(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,d)},e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function l(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var i=[];for(var j=c.length-1;j>=0;j--)i.push(b.value.item[c[j]]);if(e!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(e,i)!==0){for(j of g.sort(f))yield j;g=[]}b.done||g.push(b.value);e=i;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(j of g.sort(f))yield j});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,c=await a.next();while(!c.done)b++,c=await a.next();return(i||(i=d("I64"))).of_int32(b)}function f(a,b){return{forEach:async function(e){var f=await l(a);f=f.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],j=f[1];await e((g={},g[b]=h,g.group_count=(i||(i=d("I64"))).of_int32(j),g))}}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=b;g.count=e;g.groupBy=f}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._("Messenger is offline");case"1919524925":return h._("Please check your connection. Anything you do in chats while offline, like send messages or change chat colors, will be completed when you connect to the internet.");case"14617150":return h._("Facebook user");case"460740012":return h._("Your message was not sent.");case"2353844300":return h._("You can't reply to this conversation.");case"2375715979":return h._("You unsent a message.");case"3810165735":return h._("{user_name} unsent a message.",[h._param("user_name",b(0))]);case"3921131020":return h._("Message hidden");case"1899892426":return h._("You bumped a message.");case"3287869262":return h._("{user_name} bumped a message.",[h._param("user_name",b(0))]);case"1890485478":return h._("You");case"1299547062":return h._("You sent a sticker.");case"3621454483":return h._("{user_name} sent a sticker.",[h._param("user_name",b(0))]);case"3948960063":return h._("You sent an attachment.");case"1249692047":return h._("{user_name} sent an attachment.",[h._param("user_name",b(0))]);case"2106510577":return h._("You sent a photo.");case"3960370133":return h._("{user_name} sent a photo.",[h._param("user_name",b(0))]);case"3798396796":return h._("You sent a GIF from {app_name}.",[h._param("app_name",b(0))]);case"3388601579":return h._("{user_name} sent a GIF from {app_name}.",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("You sent a GIF.");case"3601791933":return h._("{user_name} sent a GIF.",[h._param("user_name",b(0))]);case"3759817031":return h._("You sent a video.");case"2934729541":return h._("{user_name} sent a video.",[h._param("user_name",b(0))]);case"392493418":return h._("You sent a voice message.");case"4085467454":return h._("{user_name} sent a voice message.",[h._param("user_name",b(0))]);case"2738683656":return h._("You sent a selfie sticker.");case"2996525642":return h._("{user_name} sent a selfie sticker.",[h._param("user_name",b(0))]);case"2326868239":return h._("You shared a post.");case"1001986796":return h._("{user_name} shared a post.",[h._param("user_name",b(0))]);case"2285746939":return h._("You replied to a story.");case"3759448420":return h._("{user_name} replied to a story.",[h._param("user_name",b(0))]);case"3719716921":return h._("You sent a story.");case"284944921":return h._("{user_name} sent a story.",[h._param("user_name",b(0))]);case"3322002377":return h._("you mentioned {user_name} in your story",[h._param("user_name",b(0))]);case"2486550278":return h._("mentioned you in their story");case"3557790945":return h._("You sent a reel.");case"3756846086":return h._("{user_name} sent a reel.",[h._param("user_name",b(0))]);case"780378803":return h._("You sent an IGTV video.");case"3918212613":return h._("{user_name} sent an IGTV video.",[h._param("user_name",b(0))]);case"3161890215":return h._("You shared a shop.");case"863428456":return h._("{user_name} shared a shop.",[h._param("user_name",b(0))]);case"2716405471":return h._("You sent a profile.");case"3909474073":return h._("{user_name} sent a profile.",[h._param("user_name",b(0))]);case"1522141193":return h._("You sent a story highlight.");case"2804766375":return h._("{user_name} sent a story highlight.",[h._param("user_name",b(0))]);case"772459202":return h._("You sent a gaming update.");case"3546068912":return h._("{user_name} sent a gaming update.",[h._param("user_name",b(0))]);case"2459540079":return h._("You replied to your story.");case"1596311291":return h._("{user_name} replied to your story.",[h._param("user_name",b(0))]);case"2253698324":return h._("You replied to their story.");case"4269602817":return h._("{user_name} replied to their story.",[h._param("user_name",b(0))]);case"2973334239":return h._("You sent a location.");case"3616471048":return h._("{user_name} sent a location.",[h._param("user_name",b(0))]);case"3471188061":return h._("You sent a memory.");case"2776822462":return h._("{user_name} sent a memory.",[h._param("user_name",b(0))]);case"1739999037":return h._("The audio call ended.");case"3373597599":return h._("The video call ended.");case"259473449":return h._("{user_name} missed your audio call.",[h._param("user_name",b(0))]);case"1338912959":return h._("You missed an audio call from {user_name}.",[h._param("user_name",b(0))]);case"812940701":return h._("{user_name} missed your video call.",[h._param("user_name",b(0))]);case"1099878966":return h._("You missed a video call from {user_name}.",[h._param("user_name",b(0))]);case"3443782102":return h._("The audio call started.");case"618905030":return h._("The video call started.");case"2470414797":return h._("Missed group audio call");case"1306024833":return h._("Missed group video call");case"2135145355":return h._("You sent a live location.");case"3603511704":return h._("{user_name} sent a live location.",[h._param("user_name",b(0))]);case"705614308":return h._({"*":"You sent {number} photos.","_1":"You sent a photo."},[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._({"*":"{user_name} sent {number} photos.","_1":"{user_name} sent a photo."},[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("You sent multiple attachments.");case"3422266740":return h._("{user_name} sent multiple attachments.",[h._param("user_name",b(0))]);case"1907280305":return h._("Reply to {other_user}",[h._param("other_user",b(0))]);case"1112375422":return h._("Reply to {other_user} and others",[h._param("other_user",b(0))]);case"3575257287":return h._("{num_messages} new messages",[h._param("num_messages",b(0))]);case"3321340421":return h._("{other_user} sent a message.",[h._param("other_user",b(0))]);case"3199643703":return h._("Pending approval");case"3307909120":return h._("Going");case"845728829":return h._("Interested");case"2022991544":return h._("Not interested");case"4285882723":return h._("Maybe");case"3089015955":return h._("Can't go");case"2662271323":return h._("Respond");case"1531706844":return h._("Request to join");case"3989800917":return h._("See all");case"2421884758":return h._("You bumped your message");case"2676961947":return h._("You bumped {participant_name}'s message",[h._param("participant_name",b(0))]);case"3298086032":return h._("{sender_name} bumped your message",[h._param("sender_name",b(0))]);case"3873263038":return h._("{sender_name} bumped their message",[h._param("sender_name",b(0))]);case"2616853333":return h._("{sender_name} bumped {reply_source_sender_name}'s message",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("You replied to yourself");case"2663996736":return h._("You replied to {participant_name}",[h._param("participant_name",b(0))]);case"2868699317":return h._("{sender_name} replied to you",[h._param("sender_name",b(0))]);case"2688620547":return h._("{sender_name} replied to themselves",[h._param("sender_name",b(0))]);case"3544071775":return h._("{sender_name} replied to {reply_source_sender_name}",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._("Add");case"3569041084":return h._("You");case"1640318912":return h._("{user} turned on disappearing messages.",[h._param("user",b(0))]);case"2814174244":return h._("Disappearing messages were turned on.");case"3475381825":return h._("{preamble} Messages will disappear {time} after they're sent.",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._({"*":"{number} seconds","_1":"1 second"},[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._({"*":"{number} minutes","_1":"1 minute"},[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._({"*":"{number} hours","_1":"1 hour"},[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._("{user} turned off disappearing messages.",[h._param("user",b(0))]);case"3184734723":return h._("Disappearing messages were turned off.");case"2352696798":return h._("Workplace User");case"261320435":return h._("Sidechat");case"1369731110":return h._("Facebook User");case"216075330":return h._("{user_name}'s audio",[h._param("user_name",b(0))]);case"3093868587":return h._("{user_name}'s photo",[h._param("user_name",b(0))]);case"1965569930":return h._("{user_name}'s video",[h._param("user_name",b(0))]);case"3981943156":return h._("{user_name}'s sticker",[h._param("user_name",b(0))]);case"2071149394":return h._("{user_name}'s GIF",[h._param("user_name",b(0))]);case"2414298738":return h._("{user_name}'s attachment",[h._param("user_name",b(0))]);case"4050223159":return h._("You created a sidechat");case"3387070852":return h._("{receiver_name} didn't accept your payment of ${amount} within 7 days, so the money was returned to you.",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._("{sender_name} made an update. You are receiving updates for {game_name} in this thread.",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._("You are receiving updates for {game_name} in this thread.",[h._param("game_name",b(0))]);case"1346982727":return h._("People in this thread are playing {game_name}. Messages are turned off for you.",[h._param("game_name",b(0))]);case"3688076717":return h._("{sender_name} made an update.",[h._param("sender_name",b(0))]);case"967111183":return h._("You are now connected on Messenger.");case"4202164190":return h._("{sender_name} scanned {receiver_name}'s QR code to start this chat.",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSIterationHelpers",["FBLogger","I64","ReStoreKeyComparer","ReStoreVaulting","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread"]);function k(a){return c("gkx")("1357")?j.has(a):!1}var l=new Set(["messages","attachments"]);function m(a){return l.has(a)}function n(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function o(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function p(a,b,c,d,e){return{delete:function(){return c.delete.apply(c,a)},item:b,update:function(f){if(e&&k(d.name))return Promise.reject("Attempted update to restricted table "+d.name);var g=m(d.name)?{transportKey:"FBBroker"}:{};return c.upsert(a,n(babelHelpers.extends({},b,f,g)))}}}function q(a,b){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=(h||(h=d("ReStoreKeyComparer"))).compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return t.apply(this,arguments)}function u(){function a(){var b;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){return Promise.resolve({done:!0,value:null})},b}return a()}function a(a,b,e,f,g,h,j,l){if(j&&k(e.name)){c("recoverableViolation")("Attempted to read a restricted table "+e.name,"messenger_web_product");return u()}var n=new Set(),r=a.length>1,t=a.length===1&&a[0][1]==null,v=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,f=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){var a;if(f)return{done:!0};f=!0;var b=c.map(function(a){a=a.start;return a[0]});a=await (a=i==null?g:g.index(i)).get.apply(a,b);if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}},b};return a()}return o(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d){return a.length>1?q(c,d):s(c,d,b)});function w(){var b;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,b.next=async function(){var b,f,h,k=await v.next(),o;while(!k.done){var q=k.value;f=q[0];h=q[1];b=t?f:e.primaryKeyIds.map(function(a){return h[a]});if(m(e.name)&&j&&h!=null&&h.transportKey!=="FBBroker"&&c("gkx")("820")){o=k;k=await v.next();continue}if(r){q=JSON.stringify(b);if(n.has(q)){k=await v.next();continue}n.add(q)}break}if(o!=null){f=o.value[1].transportKey;if(c("gkx")("731")){c("recoverableViolation")("Invalid client side data access from sproc: "+l,"messenger_web_product");return}if(l==="LSRefreshLastActivityTimestamp"){q="";try{q=(i||(i=d("I64"))).to_string(o.value[1].threadKey)}catch(a){}c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s, providedPattern: %s, threadKeyOfMessage: %s',l,f,JSON.stringify(a),q)}else c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,f)}return k.done||b==null||h==null?{done:!0}:{done:!1,value:p(b,h,g,e,j)}},b}return w()}g.isRestrictedTable=k;g.isTranportKeyEnforcedTable=m;g.stripUndefinedProperties=n;g.fetch=a}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("LS",["FBLogger","I64","LSDict","LSInt64Lite","LSIterationHelpers","LSIterationOperations","LSJson","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}var o="LS_WEB";function p(a){return a.name.match(/secure_|inbox(?!_)/i)}var q=d("MessengerLogHistory").getInstance("ls");function r(a){return d("base64Binary").decode(a).buffer}var s={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return s.compareTo(a,b)>=0},gt:function(a,b){return s.compareTo(a,b)>0},le:function(a,b){return s.compareTo(a,b)<=0},lt:function(a,b){return s.compareTo(a,b)<0},neq:function(a,b){return!s.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function t(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(h||(h=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function u(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function v(a,b,e,f,g){var h=a[b.name];return{add:async function(a){if(g&&d("LSIterationHelpers").isRestrictedTable(b.name))throw c("unrecoverableViolation")("Attempted to insert into a restricted table "+b.name+" from "+f.join(", "),"messenger_web_product");d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&(a.transportKey="FBBroker");await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,u,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,u,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){if(g&&d("LSIterationHelpers").isRestrictedTable(b.name))throw c("unrecoverableViolation")("Attempted to update a restricted table "+b.name+" from "+f.join(", "),"messenger_web_product");d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&(a.transportKey="FBBroker");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function w(a,b,d,e,f,g){return{table:function(h){h=d.tableIds[h];if(b===0&&p(h))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return v(a,h,e,f,g)}}}function x(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var y=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function z(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function A(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function B(a,b,e,f,g,h,p,v,C){p===void 0&&(p={});v===void 0&&(v=void 0);var D=[],E=w(h,a,b,p,D,C),F=async function(b,d){var f;if(typeof d==="string"){f=e[d.toString()];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product");f.load&&(f=await f.load());f=f.call}else f=d.call;for(var g=arguments.length,i=new Array(g>2?g-2:0),j=2;j<g;j++)i[j-2]=arguments[j];return f.apply(void 0,[h,a].concat(i))},G=async function(b){var d;if(typeof b==="string"){d=e[b+".bs"]||e[b+".nop"];if(d==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");d.load&&(d=await d.load());d=d}else d=b;try{for(var f=arguments.length,g=new Array(f>1?f-1:0),i=1;i<f;i++)g[i-1]=arguments[i];return d.apply(void 0,[h,a].concat(g))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},H=function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:r,blobs:s,constructor:{n:t},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},ct:d("LSIterationOperations").count,db:E,fe:d("LSIterationOperations").forEach,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,ftr:d("LSIterationOperations").filter,gb:d("LSIterationOperations").groupBy,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return z(f,a,b)},localizeAsync:function(a,b){return Promise.resolve(z(f,a,b))},localizeV2:function(a,b){return A(g,a,b)},localizeV2Async:function(a,b){return Promise.resolve(A(g,a,b))},logger:function(a){if(v)return{debug:v,info:v,mustfix:v,warn:v};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){q.error(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return q.debug(a)},info:function(a){return q.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function d(e){var f;return c("LSInt64Lite").lt(e,a)?b(e).then(function(){return d(c("LSInt64Lite").add(e,t(n())))}):((f=self.Promise)!=null?f:Promise).resolve()}return d(t(m()))},loopSync:function(a,b){for(var d=t(l());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,t(k())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=u(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:t,nativeOperation:G,nativeTypeOperation:F,nop:G,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:F,print:function(a){},resolve:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(a)},rm:c("LSInt64Lite").of_int32(a),sb:d("LSIterationOperations").sortBy,seq:H,sequence:H,slc:I,slice:I,sortBy:d("LSIterationOperations").sortBy,sp:async function(d){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof d==="string"){l=e[d];if(l==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");l.load&&(l=await l.load())}else l=d;var m=this;switch(a){case 0:m=B(2,b,e,f,g,h,p,v,C);break;case 2:m=B(1,b,e,f,g,h,p,v,C);break}var n=x(l),q=y.shouldLogSproc(n),r={args:j,shouldLog:q,sprocName:n};D.push(n);var s;try{s=y.call(r);var t=await l.apply(void 0,j.concat([m]));y.logSprocDone(r,s,2);return t}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",d);y.logSprocDone(r,s,3);throw a}finally{D.pop()}},storedProcedure:async function(d){for(var i=arguments.length,j=new Array(i>1?i-1:0),k=1;k<i;k++)j[k-1]=arguments[k];var l;if(typeof d==="string"){l=e[d];if(l==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product");l.load&&(l=await l.load())}else l=d;var m=this;switch(a){case 0:m=B(2,b,e,f,g,h,p,v,C);break;case 2:m=B(1,b,e,f,g,h,p,v,C);break}var n=x(l),q=y.shouldLogSproc(n),r={args:j,shouldLog:q,sprocName:n};D.push(n);var s;try{s=y.call(r);var t=await l.apply(void 0,j.concat([m]));y.logSprocDone(r,s,2);return t}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",d);y.logSprocDone(r,s,3);throw a}finally{D.pop()}},ta:d("LSIterationOperations").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}B.n=t;g.default=B}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules);function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!(e in i)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return(h||(h=b("Promise"))).resolve();var f=new(h||(h=b("Promise")))(function(a){var e={},g=[],h=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);i[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return i[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var k of d)h(k);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});j(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return f}function j(a,b,c){a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function k(a){return a.charAt(0).toUpperCase()+a.slice(1)}function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){a in i||f.set(a,"LS"+k(a))}for(d of(a=d)!=null?a:[]){!(d+".bs"in i)?f.set(d+".bs","LS"+k(d)+".nop"):d+".nop"in i||f.set(d+".nop","LS"+k(d)+".nop")}for(d of(a=e)!=null?a:[]){d in i||f.set(d,"LS"+k(d))}if(f.size===0)return(h||(h=b("Promise"))).resolve();var g=new(h||(h=b("Promise")))(function(a){var d={},e=[],h=function(a){var c=a[0];a=a[1];d[a]={be:1,r:[]};e.push(a);i[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return i[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var k of f)h(k);c("Bootloader").handlePayload({compMap:d,consistency:{rev:c("SiteData").client_revision}});j(c("Bootloader"),e,function(b){Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return g}g.cachedModules=i;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").metadata,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null&&b("cr:8709").isProfilingEnabled()?b("cr:8709").profile(a):a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("CometTaskFramework",["BrowserLockManager","Promise","QuickPerformanceLogger","asyncToGeneratorRuntime","executeTask.xplat","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a){return{issueTask:function(d,e,f){var g=c("qpl")._(164763515,"1216");(i||(i=c("QuickPerformanceLogger"))).markerStart(g);i.markerAnnotate(g,{string:{type:d}});var j=babelHelpers["extends"]({id:Math.random(),name:d,payload:e},f);return new(h||(h=b("Promise")))(function(d,e){var f=function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{(i||(i=c("QuickPerformanceLogger"))).markerPoint(g,"execute");var b=(yield c("executeTask.xplat")(j.payload,{actorID:a,event:g,taskID:j.id},j.name));i.markerEnd(g,2);d(b)}catch(a){(i||(i=c("QuickPerformanceLogger"))).markerEnd(g,3),e(a)}});return function(){return f.apply(this,arguments)}}();if(!c("BrowserLockManager")||j.queue_name==null)return f();c("promiseDone")(c("BrowserLockManager")==null?void 0:c("BrowserLockManager").request(j.queue_name,f))})}}}function a(a){var b=j.get(a);b==null&&(b=k(a),j.set(a,b));return b}g["default"]=a}),98);
__d("WAJobs",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(){if(h==null)throw c("WAErr")("WAJobs api called before set");return h}function a(a){h=a}function b(){return i().jobResultConverter}function d(){return i().persistedJobs.api}function e(){return i().persistedJobs.manager}g.setJobsDependencies=a;g.getJobResultConvertersImpls=b;g.getPersistedJobsApi=d;g.getJobManager=e}),98);
__d("MAWGlobals",["WAGlobals","WAJobs","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function j(){if(i==null)throw c("err")("MawMsgr api called before set");return i}function a(){return j().config}function b(a){i=a,d("WAGlobals").setGlobals(a),d("WAJobs").setJobsDependencies(a)}function e(a){if(i==null)throw c("err")("Cannot set CAT before all globals were set");i.fbCat=a}function f(){return j().fbCat}function k(){return j().db}function l(){return j().persistedJobs.api}function m(){return j().persistedJobs.manager}function n(){return j().hmacKey}function o(){return j().dependencies}function p(a){if(i==null)throw c("err")("Cannot set CAT before all globals were set");i.activeThreadKey=a}function q(){return j().activeThreadKey}function r(){return j().offlineResumeStats}g.setMyJids=(h=d("WAGlobals")).setMyJids;g.getMyDeviceJid=h.getMyDeviceJid;g.getMyUserJid=h.getMyUserJid;g.getJobResultConvertersImpls=d("WAJobs").getJobResultConvertersImpls;g.isPeerDevice=h.isPeerDevice;g.getJidUtilsApi=h.getJidUtilsApi;g.getConfig=a;g.setGlobals=b;g.setFbCat=e;g.getFbCat=f;g.getDbImpls=k;g.getPersistedJobsApi=l;g.getJobManager=m;g.getHMACKey=n;g.getDependencies=o;g.setMAWActiveChatThreadKey=p;g.getMAWActiveChatThreadKey=q;g.getOfflineResumeStats=r}),98);
__d("MAWAuthor",["MAWGlobals","WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return a==null||a===d("WAJids").AUTHOR_SYSTEM?null:d("WAJids").isAuthorMe(a)?d("MAWGlobals").getMyUserJid():d("WAJids").authorAsUserJid(a)};g.getAuthorUserJid=a}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WALogger","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id ",": ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse stanza id "," for platform: ",""]);j=function(){return a};return a}var k=131071;function l(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(l(k)),h.of_float(k))),h.max_int)))}function b(a){try{var b=(h||(h=d("I64"))).of_float(4063232),c=h.of_float(0),e=h.of_float(131072);b=h.and_(h.of_string(a),b);if((h||(h=d("I64"))).equal(b,c))return"web";return(h||(h=d("I64"))).equal(b,e)?"mobile":"unknown"}catch(b){d("WALogger").ERROR(j(),a,b);return"error"}}function e(a){var b=6917529027641082e3,c=!1;try{c=(h||(h=d("I64"))).equal(h.and_(h.of_string(a),h.of_float(b)),h.of_float(b))}catch(b){d("WALogger").ERROR(i(),a,b)}return c}g.generateExternalId=a;g.getPlatform=b;g.isStnazaId=e}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("InstamadilloMessageIdUtils",["FBLogger","I64","MAWUnsafeCoerce","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;(h||(h=d("I64"))).isI64(a)?c=(h||(h=d("I64"))).to_string(a):c=a;return c+":"+b}function a(a){a=a.split(":");if(a.length!==2)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return{stanzaId:a[1],threadKey:a[0]}}function b(a){a=a.message.decrypted.id;return j(a)}function j(a){var b=a.externalId;a=d("WAJids").threadIdForChatJid(a.chat);return i(a,b)}function e(a,b,c){return{author:d("WAJids").toMsgrUserJid(c),chat:d("WAJids").toMsgrUserJid((h||(h=d("I64"))).to_string(a)),externalId:d("MAWUnsafeCoerce").unsafeCoerce(b)}}g.toInstamadilloMessageId=i;g.fromInstamadilloMessageId=a;g.getInstsamadilloMessageIdFromStanza=b;g.getInstsamadilloMessageIdFromProtocolMsgId=j;g.toProtocolMsgId=e}),98);
__d("IGDXMAAttachmentUtil",["bx"],(function(a,b,c,d,e,f,g){"use strict";b=c("bx").getURL(c("bx")("13341"));var h=String.fromCodePoint(128293),i=String.fromCodePoint(128546),j=String.fromCodePoint(128079),k=String.fromCodePoint(128558),l=String.fromCodePoint(128514),m=String.fromCodePoint(128525);function a(a){return a!=null?a===h||a===i||a===j||a===k||a===l?!0:a===m:!1}g.DEFAULT_PROFILE_URL=b;g.isEmojiReaction=a}),98);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}g["default"]=a}),98);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","CometLoadingAnimation.react","TetraTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(){var a=(j||(j=d("VideoPlayerHooks"))).useStreamInterrupted(),b=j.useIsLiveRewindActive();return!a||b?null:k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:k.jsxs("div",{className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xds687c xdt5ytf xl56j7k x10l6tqk x17qophe x13vifvy",children:[k.jsx("div",{children:k.jsx(c("TetraTextPairing.react"),{body:h._("The broadcast is waiting for a signal. It should resume shortly."),bodyColor:"white",headline:h._("Waiting for Live Video Signal"),headlineColor:"white",level:2,textAlign:"center"})}),k.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:k.jsx(c("CometLoadingAnimation.react"),{size:36})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<d.length;j++){var k=d[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_MEDIA_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING_DEPRECATED:3002,MSG_LOCATION_SHARING_V2:3003,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_FILE:3012,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_EARLY_ACCESS_FB_SHARE:3016,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,LIVE_LOCATION:5e3,OC_AVATAR_STATIC_STICKER:6e3});f["default"]=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15,GRID:16,BLOKS_XMA:17,TWO_CARD:18});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15});f["default"]=a}),66);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14,THIRD_PARTY_STICKER:15});f["default"]=a}),66);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}b=a;g["default"]=b}),98);
__d("LSBumpThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[1],b.i64.cast([0,1]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,2]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,3]))?b.db.table(9).fetch([[[a[2]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.lastActivityTimestampMs,d.lastReadWatermarkTimestampMs)?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}e=function(a){return a==null?a:k(a)};function a(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function b(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function c(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=e;g.isBiggerLongInt=a;g.longIntToDecimalString=b;g.decimalStringToLongInt=c}),98);/*FB_PKG_DELIM*/
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f,g){var h="arbiter$"+c("guid")(),i=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return i.call(this,h)?this[h]:this[h]=new(c("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};b=a;g["default"]=b}),98);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);h||b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML","WebDriverConfig"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c("HTML").isHTML(a)){var b=new(c("HTML"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c("FBLogger")("async_response").catching(b.toError()).warn("default error handler called")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c("Bootloader").loadModules(["ExceptionDialog"],function(c){return c.showAsyncError(a,b)},"AsyncResponse")};return a}();g["default"]=a}),98);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({delim:"/*<!-- fetch-stream -->*/"});f["default"]=a}),66);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return(g||(g=b("Promise"))).reject("Sorry, you are somehow using this too early.")};this.$7=new(g||(g=b("Promise")))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();f["default"]=a}),66);
__d("mixin",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f["default"]=a}),66);
__d("FetchStreamTransport",["ArbiterMixin","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","asyncToGeneratorRuntime","mixin","nullthrows"],(function(a,b,c,d,e,f,g){var h,i=0;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var c;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");c=a.call(this)||this;c.$FetchStreamTransport$p_6=null;c.$FetchStreamTransport$p_1=b;c.$FetchStreamTransport$p_3=!1;c.$FetchStreamTransport$p_4=!1;c.$FetchStreamTransport$p_5=!1;c.$FetchStreamTransport$p_2=++i;return babelHelpers.assertThisInitialized(c)||babelHelpers.assertThisInitialized(c)}var e=d.prototype;e.hasFinished=function(){return this.$FetchStreamTransport$p_5};e.getRequestURI=function(){return new(h||(h=c("URI")))(this.$FetchStreamTransport$p_1).addQueryData({__a:1,__adt:this.$FetchStreamTransport$p_2,__req:"fetchstream_"+this.$FetchStreamTransport$p_2,ajaxpipe_fetch_stream:1})};e.send=function(){if(this.$FetchStreamTransport$p_3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport$p_3=!0;var a=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");a=self.fetch(a,{redirect:"follow"});this.$FetchStreamTransport$p_7(a)};e.$FetchStreamTransport$p_7=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,d;try{d=(yield a)}catch(a){this.abort()}if(!d||!d.body||!d.ok){this.abort();return}var e=new(c("StreamBlockReader"))(d.body);a=function*(){var a=(yield e.readUntilStringOrEnd(c("FetchStreamConfig").delim));if(b.$FetchStreamTransport$p_4)return"break";c("nullthrows")(b.$FetchStreamTransport$p_6)(function(){var d=JSON.parse(a);e.isDone()||d.finished?b.$FetchStreamTransport$p_5=!0:b.$FetchStreamTransport$p_6=c("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");b.inform("response",d.content)})};while(!this.$FetchStreamTransport$p_5&&!this.$FetchStreamTransport$p_4){var f=(yield* a());if(f==="break")break}});function d(b){return a.apply(this,arguments)}return d}();e.abort=function(){var a=this;if(this.$FetchStreamTransport$p_4||this.$FetchStreamTransport$p_5)return;this.$FetchStreamTransport$p_4=!0;this.$FetchStreamTransport$p_5=!0;if(this.$FetchStreamTransport$p_6){var b=this.$FetchStreamTransport$p_6;b(function(){a.inform("abort")})}else this.inform("abort")};return d}(c("mixin")(c("ArbiterMixin")));g["default"]=a}),98);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f,g){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}b={get:a,getAll:c("emptyFunction").thatReturns(new Map())};d=b;g["default"]=d}),98);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin","setTimeout"],(function(a,b,c,d,e,f,g){var h,i={},j=2;function k(a){delete i[a]}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$JSONPTransport$p_3=!1;c.$JSONPTransport$p_7=b;i[c.getID()]=babelHelpers.assertThisInitialized(c);return c}var d=b.prototype;d.getID=function(){return this.$JSONPTransport$p_4||(this.$JSONPTransport$p_4=j++)};d.hasFinished=function(){return!(this.getID()in i)};d.getRequestURI=function(){return new(h||(h=c("URI")))(this.$JSONPTransport$p_7).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};d.getTransportFrame=function(){if(this.$JSONPTransport$p_5)return this.$JSONPTransport$p_5;var a="transport_frame_"+this.getID();a=c("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this.$JSONPTransport$p_5=c("DOM").appendContent(document.body,a)[0]};d.send=function(){var a=this;this.getTransportFrame().onload=function(){return a.$JSONPTransport$p_8()};this.getTransportFrame().src=this.getRequestURI().toString();this.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.handleResponse=function(a){var b=this;this.$JSONPTransport$p_2==null?void 0:this.$JSONPTransport$p_2(function(){b.inform("response",a),b.hasFinished()?c("setTimeout")(function(){return b.$JSONPTransport$p_9()},0):b.$JSONPTransport$p_2=c("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};d.abort=function(){if(this.$JSONPTransport$p_1)return;this.$JSONPTransport$p_1=!0;this.$JSONPTransport$p_9();k(this.getID());this.inform("abort")};d.$JSONPTransport$p_8=function(){this.$JSONPTransport$p_3||this.abort()};d.$JSONPTransport$p_9=function(){this.$JSONPTransport$p_5&&(c("DOM").remove(this.$JSONPTransport$p_5),this.$JSONPTransport$p_5=null)};return b}(c("mixin")(c("ArbiterMixin")));a.respond=function(a,b,c){var d=i[a];if(d){d.$JSONPTransport$p_3=!0;c||k(a);b;if(typeof b==="string")c=JSON.parse(b);else{c=JSON.parse((a=JSON.stringify(b))!=null?a:"null")}d.handleResponse(c)}};a.respond=c("TimeSlice").guard(a.respond,"JSONPTransport.respond",{root:!0});g["default"]=a}),98);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("isSparkDotMetaDotComURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)spark\\.meta\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","Run","ScriptPath","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","executeAfter","fb-error","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isBulletinDotComURI","isEmpty","isFacebookURI","isHorizonDotMetaDotComURI","isInternalFBURI","isMessengerDotComURI","isSparkDotMetaDotComURI","isWorkDotMetaDotComURI","isWorkplaceDotComURI","isWorkroomsDotComURI","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions","unrecoverableViolation","uriIsRelativePath"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l,m,n,o,p,q;f=19e3;h=500;var r=1006,s=1004,t=1010,u=new Set([h,t,s,r]),v=!1;d("Run").onAfterUnload(function(){v=!0});function w(){return v}function x(a){return"onprogress"in a}function y(a){return"upload"in a&&"onprogress"in a.upload}function z(a){return"withCredentials"in a}function A(a){return a.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function B(a){a=!a||typeof a==="function";a||c("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return a}var C=2,D=C,E=!1;c("Arbiter").subscribe("page_transition",function(a,b){!E?D=b.id:E=!1});var F="for (;;);",G=F.length,H=function(){function a(b){var e=this,f;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(a,b){var d=a.getError();e.clearStatusIndicator();if(!e._isRelevant()||d===t){e.abort();return}if(e._isServerDialogErrorCode(d)){var f=d==1357008||d==1357007;e.interceptHandler(a);d==1357041?e._solveQuicksandChallenge(a):d==1357007?e._displayServerDialog(a,f,!0):e._displayServerDialog(a,f)}else if(e.initialHandler(a)!==!1){c("clearTimeout")(e.timer);try{b(a)}catch(b){e.finallyHandler(a);throw b}e.finallyHandler(a)}};this._onStateChange=function(){var b=e.transport;if(!b)return;try{a._inflightCount--;d("ResourceTimingsStore").measureResponseReceived(c("ResourceTypes").XHR,e.resourceTimingStoreUID);try{b.getResponseHeader("X-FB-Debug")&&(e._xFbServer=b.getResponseHeader("X-FB-Debug"),c("fb-error").ErrorXFBDebug.add(e._xFbServer))}catch(a){}if(b.status>=200&&b.status<300)a.lastSuccessTime=Date.now(),e._handleXHRResponse(b);else if(d("UserAgent_DEPRECATED").webkit()&&typeof b.status==="undefined")e._invokeErrorHandler(1002);else if(c("AsyncRequestConfig").retryOnNetworkError&&A(b)&&e.remainingRetries>0&&!e._requestTimeout){e.remainingRetries--;delete e.transport;e.send(!0);return}else e._invokeErrorHandler();e.getOption("asynchronous_DEPRECATED")!==!1&&delete e.transport}catch(a){if(w())return;delete e.transport;e.remainingRetries>0?(e.remainingRetries--,e.send(!0)):(e.getOption("suppressErrorAlerts")||c("FBLogger")("AsyncRequest").catching(a).mustfix("AsyncRequest exception when attempting to handle a state change"),e._invokeErrorHandler(1007))}};this._handleTimeout=function(){e.continuation.last(function(){e._requestTimeout=!0;var a=e.timeoutHandler;e.abandon();a&&a(e);c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/timeout",{request:e})},0)})};this.continuation=c("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=f=c("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=c("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=f;this.finallyHandler=f;this.abortHandler=f;this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=d("ResourceTimingsStore").getUID(c("ResourceTypes").XHR,b!=null?b.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=c("bind")(this,"errorHandler");b!==void 0&&this.setURI(b);this.setAllowCrossPageTransition(c("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var f=a.prototype;f._dispatchResponse=function(a){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(t);return}if(this.initialHandler(a)===!1)return;c("clearTimeout")(this.timer);var b,d=this.getHandler();if(d)try{b=this._shouldSuppressJS(d(a))}catch(b){a.is_last&&this.finallyHandler(a);throw b}b||this._handleJSResponse(a);a.is_last&&this.finallyHandler(a)};f._shouldSuppressJS=function(b){return b===a.suppressOnloadToken};f._handlePreDisplayServerJS=function(a,b){var d=!1,e=[],f=function(){if(d){c("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var a,b=new(c("Deferred"))();e.push(b.getPromise());return c("TimeSlice").guard(function(){a&&c("clearTimeout")(a),b.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:c("TimeSlice").PropagationType.EXECUTION})};a.handle(b,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:f}});d=!0;return e};f._hasEvalDomOp=function(a){return a&&a.length?a.some(function(a){return a[0]==="eval"}):!1};f._handleJSResponse=function(a){var b=this.getRelativeTo(),e=a.domops,f=a.dtsgToken,g=a.dtsgAsyncGetToken,h=a.jsmods,i=a.savedServerJSInstance;i&&i instanceof c("ServerJS")?i=i:i=new(c("ServerJS"))();i.setRelativeTo(b);if(h){var j={define:h.define,instances:h.instances,markup:h.markup};delete h.define;delete h.instances;delete h.markup;this._hasEvalDomOp(e)&&(j.elements=h.elements,delete h.elements);i.handle(j)}j=new(m||(m=c("URI")))(this.uri);(!j.getDomain()&&!j.getProtocol()||document.location.origin===j.getOrigin())&&(f&&d("DTSG").setToken(f),g&&d("DTSG_ASYNC").setToken(g));e&&(q||(q=c("ErrorGuard"))).applyWithGuard(function(){return d("AsyncDOM").invoke(e,b)},null,[],{errorType:"warn"});h&&i.handle(h);this._handleJSRegisters(a,"onload");this._handleJSRegisters(a,"onafterload")};f._handleJSRegisters=function(a,b){a=a[b];if(a)for(b=0;b<a.length;b++){var d=null,e=a[b],f=e.match(/^\"caller:([^\"]+?)\";(.*)/);f!=null&&(d=f[1],e=f[2]);(q||(q=c("ErrorGuard"))).applyWithGuard(new Function(e),this,[]);c("FBLogger")("comet_infra").info("Detected dynamic new Function(...) call in AsyncRequest._handleJSRegisters(...).",new(m||(m=c("URI")))(this.uri).getPath(),d)}};f.invokeResponseHandler=function(a){var e=this;if(typeof a.redirect!=="undefined"){c("setTimeout")(function(){e.setURI(a.redirect,!0).send()},0);return}if(a.bootloadOnly!==void 0){var f=typeof a.bootloadOnly==="string"?JSON.parse(a.bootloadOnly):a.bootloadOnly,g=function(a){c("TimeSlice").guard(function(){c("Bootloader").loadPredictedResourceMap(a)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(f of f)g(f);return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===c("emptyFunction")&&this.finallyHandler===c("emptyFunction"))return;var h=a.asyncResponse;if(typeof h!=="undefined"){if(!this._isRelevant()){this._invokeErrorHandler(t);return}h.updateScriptPath&&c("ScriptPath").set(h.updateScriptPath.path,h.updateScriptPath.token,h.updateScriptPath.extra_info);h.lid&&(this._responseTime=Date.now(),this.lid=h.lid);d("HasteResponse").handleSRPayload((g=h.hsrp)!=null?g:{});var i,j;if(h.getError()&&!h.getErrorIsWarning()){f=this.getErrorHandler().bind(this);i=(q||(q=c("ErrorGuard"))).guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});i=i.bind(this,h,f);j="error"}else{i=(q||(q=c("ErrorGuard"))).guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});i=i.bind(this,h);j="response";g=h.domops;if(!this._delayPreDisplayJS&&h.jsmods&&h.jsmods.pre_display_requires&&!this._hasEvalDomOp(g)){f=h.jsmods;g={define:f.define,instances:f.instances,markup:f.markup};delete f.define;delete f.instances;delete f.markup;g.pre_display_requires=f.pre_display_requires;delete f.pre_display_requires;f=new(c("ServerJS"))();f.setRelativeTo(this.getRelativeTo());h.savedServerJSInstance=f;var k=this._handlePreDisplayServerJS(f,g);if(k&&k.length){var m=i;i=function(){c("promiseDone")((l||(l=b("Promise"))).all(k).then(m))}}}}var o=(n||(n=c("performanceAbsoluteNow")))();i=c("executeAfter")(i,function(){c("Arbiter").inform("AsyncRequest/"+j,{request:e,response:h,ts:o})});this.preBootloadHandler&&this.preBootloadHandler(h);c("Bootloader").loadResources((f=h.allResources)!=null?f:[],{onAll:c("AsyncRequestConfig").immediateDispatch?i:function(){c("setTimeout")(i,0)}})}else typeof a.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};f._invokeErrorHandler=function(a){var b=this,d=this.transport;if(!d)return;var e;if(this.responseText==="")e=1002;else if(this._requestAborted)e=1011;else{try{e=a||d.status||s}catch(a){e=1005}!1===navigator.onLine&&(e=r)}var f,g;a=!0;if(e===r)g=i._("No Network Connection"),f=i._("Your browser appears to be offline. Please check your internet connection and try again.");else if(e>=300&&e<=399){g=i._("Redirection");f=i._("Your access to Facebook was redirected or blocked by a third party at this time, please contact your ISP or reload.");var h=d.getResponseHeader("Location");h&&c("goURI")(h,!0);a=!0}else g=i._("Oops"),f=i._("Something went wrong. We're working on getting this fixed as soon as we can. You may be able to try again.");var j=new(c("AsyncResponse"))(this,d);Object.assign(j,{error:e,errorSummary:g,errorDescription:f,silentError:a});c("setTimeout")(function(){c("Arbiter").inform("AsyncRequest/error",{request:b,response:j})},0);if(w()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){c("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),e);return}h=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||u.has(e))?c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).mustfix("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI()):u.has(e)&&c("FBLogger")("asyncresponse").addToCategoryKey(String(e)).warn("Async request failed with error %s: %s when requesting %s",e,f.toString(),this.getURI());(q||(q=c("ErrorGuard"))).applyWithGuard(this._dispatchErrorResponse,this,[j,h])};f._isServerDialogErrorCode=function(a){return a==1357008||a==1357007||a==1357041||a==1442002||a==1357001};f._solveQuicksandChallenge=function(a){var b=this,d=a.getPayload();c("Bootloader").loadModules(["QuickSandSolver"],function(a){a.solveAndSendRequestBack(b,d)},"AsyncRequest")};f._displayServerDialog=function(a,b,d){var e=this;d===void 0&&(d=!1);var f=a.getPayload();if(f.__dialog!==void 0){this._displayServerLegacyDialog(a,b);return}b=f.__dialogx;new(c("ServerJS"))().handle(b);if(f.__should_use_mwa_reauth===!0){c("Bootloader").loadModules(["MWADeveloperReauthBarrier"],function(b){b.registerRequest(f.__dialogID,e,a)},"AsyncRequest");return}c("Bootloader").loadModules(["ConfirmationDialog"],function(b){b.setupConfirmation(a,e,d)},"AsyncRequest")};f._displayServerLegacyDialog=function(a,b){var d=this,e=a.getPayload().__dialog;if(c("gkx")("20935")){var f;c("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",a.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(f=(f=a.request)==null?void 0:f.getURI())!=null?f:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}c("Bootloader").loadModules(["Dialog"],function(c){c=new c(e);b&&c.setHandler(d._displayConfirmationHandler.bind(d,c));c.setCancelHandler(function(){var b=d.getServerDialogCancelHandler();try{b&&b(a)}catch(a){throw a}finally{d.finallyHandler(a)}}).setCausalElement(d.relativeTo).show()},"AsyncRequest")};f._displayConfirmationHandler=function(a){this.data.confirmed=1,Object.assign(this.data,a.getFormData()),this.send()};f._setJSONPTransport=function(a){a.subscribe("response",this._handleJSONPResponse.bind(this)),a.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=a};f._handleJSONPResponse=function(a,b){a=this.transport;if(!a)return;b.bootloadOnly||(this.is_first=this.is_first===void 0);b=this._interpretResponse(b);b.asyncResponse&&(b.asyncResponse.is_first=this.is_first,b.asyncResponse.is_last=a.hasFinished());this.invokeResponseHandler(b);a.hasFinished()&&delete this.transport};f._handleJSONPAbort=function(){this._invokeErrorHandler(),delete this.transport};f._handleXHRResponse=function(a){var b;if(this.getOption("suppressEvaluation"))b={asyncResponse:new(c("AsyncResponse"))(this,a)};else try{this._handleFlushedResponse();a=a.responseText;a=this._filterOutFlushedText(a);a=this._unshieldResponseText(a);a=JSON.parse(a);b=this._interpretResponse(a)}catch(a){b=a.message,c("FBLogger")("async_request").catching(a).warn("Failed to handle response")}this.invokeResponseHandler(b)};f._handleFlushedResponse=function(){var a=this.flushedResponseHandler,b=this.transport;if(a&&b){var c=b.responseText.indexOf(F);c=c===-1?b.responseText.length:c;a(b.responseText.substring(this.flushedResponseTextParseIndex,c));this.flushedResponseTextParseIndex=c}};f._unshieldResponseText=function(a){if(a.length<=G)throw new Error("Response too short on async");var b=0;while(a.charAt(b)==" "||a.charAt(b)=="\n")b++;b&&a.substring(b,b+G)==F;return a.substring(b+G)};f._filterOutFlushedText=function(a){if(!this.flushedResponseHandler)return a;var b=a.indexOf(F);return b<0?a:a.substr(b)};f._interpretResponse=function(a){if(a.redirect)return{redirect:a.redirect};if(a.bootloadOnly)return{bootloadOnly:a.bootloadOnly};var b=a.error&&this._isServerDialogErrorCode(a.error);this._shouldReplaceTransportMarkers&&a.payload&&!b&&c("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},a.payload);b=new(c("AsyncResponse"))(this);if(a.__ar!=1)c("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),b.payload=a;else{Object.assign(b,a);a=this.transport;a&&a.getAllResponseHeaders!==void 0&&(b.responseHeaders=a.getAllResponseHeaders())}return{asyncResponse:b}};f._isMultiplexable=function(){if(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){c("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses iframe transport.");return!1}if(!c("isFacebookURI")(new(m||(m=c("URI")))(this.uri))){c("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){c("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};f.handleResponse=function(a){a=this._interpretResponse(a);this.invokeResponseHandler(a)};f.setMethod=function(a){this.method=a.toString().toUpperCase();return this};f.getMethod=function(){return this.method};f.setData=function(a){this.data=a;return this};f.setRequestHeader=function(a,b){this.headers[a]=b;return this};f.setRawData=function(a){this.rawData=a;return this};f.getData=function(){return this.data};f.setContextData=function(a,b,c){c=c===void 0?!0:c;c&&(this.context["_log_"+a]=b);return this};f._setUserActionID=function(){this.userActionID=(d("SessionName").getName()||"-")+"/-"};f.setURI=function(a,b){b===void 0&&(b=!1);typeof a==="string"&&a.match(/^\/?u_\d+_\d+/)&&c("FBLogger")("asyncrequest").warn("Invalid URI %s",a);var e=new(m||(m=c("URI")))(a);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!c("isFacebookURI")(e)){b&&j(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!e.isSameOrigin()&&!c("uriIsRelativePath")(e)){b&&j(0,45285);return this}this._setUserActionID();if(!a||e.isEmpty()){c("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=d("ZeroRewrites").rewriteURI(e);return this};f.getURI=function(){return this.uri.toString()};f.delayPreDisplayJS=function(a){a===void 0&&(a=!0);this._delayPreDisplayJS=a;return this};f.setInitialHandler=function(a){this.initialHandler=a;return this};f.setPayloadHandler=function(a){this.setHandler(function(b){a(b.payload)});return this};f.setHandler=function(a){B(a)&&(this.handler=a);return this};f.setFlushedResponseHandler=function(a){B(a)&&(this.flushedResponseHandler=a);return this};f.getHandler=function(){return this.handler||c("emptyFunction")};f.setProgressHandler=function(a){B(a)&&(this.progressHandler=a);return this};f.setUploadProgressHandler=function(a){B(a)&&(this.uploadProgressHandler=a);return this};f.setErrorHandler=function(a){B(a)&&(this.errorHandler=a);return this};f.setTransportErrorHandler=function(a){this.transportErrorHandler=a;return this};f.getErrorHandler=function(){return this.errorHandler||c("emptyFunction")};f.getTransportErrorHandler=function(){return this.transportErrorHandler||c("emptyFunction")};f.setTimeoutHandler=function(a,b){B(b)&&(this.timeout=a,this.timeoutHandler=b);return this};f.resetTimeout=function(a){if(!(this.timeoutHandler===null))if(a===null)this.timeout=null,c("clearTimeout")(this.timer),this.timer=null;else{var b=!this._allowCrossPageTransition;this.timeout=a;c("clearTimeout")(this.timer);b?this.timer=c("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=c("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};f.setNewSerial=function(){this.id=++C;return this};f.setInterceptHandler=function(a){this.interceptHandler=a;return this};f.setFinallyHandler=function(a){this.finallyHandler=a;return this};f.setAbortHandler=function(a){this.abortHandler=a;return this};f.getServerDialogCancelHandler=function(){return this.serverDialogCancelHandler};f.setServerDialogCancelHandler=function(a){this.serverDialogCancelHandler=a;return this};f.setPreBootloadHandler=function(a){this.preBootloadHandler=a;return this};f.setReadOnly=function(a){typeof a!=="boolean"||(this.readOnly=a);return this};f.getReadOnly=function(){return this.readOnly};f.setRelativeTo=function(a){this.relativeTo=a;return this};f.getRelativeTo=function(){return this.relativeTo};f.setStatusClass=function(a){this.statusClass=a;return this};f.setStatusElement=function(a){this.statusElement=a;return this};f.getStatusElement=function(){return c("ge")(this.statusElement)};f._isRelevant=function(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>D};f.clearStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").removeClass(a,"async_saving"),d("CSS").removeClass(a,this.statusClass))};f._addStatusIndicator=function(){var a=this.getStatusElement();a&&(d("CSS").addClass(a,"async_saving"),d("CSS").addClass(a,this.statusClass))};f.specifiesWriteRequiredParams=function(){var a=this;return this.writeRequiredParams.every(function(b){a.data[b]=a.data[b]||(o||(o=c("Env")))[b]||(c("ge")(b)||{}).value;return a.data[b]!==void 0?!0:!1})};f.setOption=function(a,b){typeof this.option[a]!=="undefined"&&(this.option[a]=b);return this};f.getOption=function(a){typeof this.option[a]==="undefined";return this.option[a]};f.abort=function(){var a=this;this.continuation.last(function(){var b=a.transport;if(b){var d=a.getTransportErrorHandler();a.setOption("suppressErrorAlerts",!0);a.setTransportErrorHandler(c("emptyFunction"));a._requestAborted=!0;b.abort();a.setTransportErrorHandler(d)}a.abortHandler();K.unschedule(a)})};f.abandon=function(){var a=this;this.continuation.last(function(){var b;c("clearTimeout")(a.timer);a.setOption("suppressErrorAlerts",!0).setHandler(b=c("emptyFunction")).setErrorHandler(b).setTransportErrorHandler(b).setProgressHandler(b).setUploadProgressHandler(b);b=a.transport;b&&(a._requestAborted=!0,x(b)&&delete b.onprogress,y(b)&&delete b.upload.onprogress,b.abort());a.abortHandler();K.unschedule(a)})};f.setNectarModuleDataSafe=function(a){var b=this.setNectarModuleData;b&&b.call(this,a);return this};f.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;this.timer&&this.resetTimeout(this.timeout);return this};f.getAllowIrrelevantRequests=function(){return this._allowIrrelevantRequests};f.setAllowIrrelevantRequests=function(a){this._allowIrrelevantRequests=a;return this};f.setAllowCrossOrigin=function(a){this._allowCrossOrigin=a;return this};f.setAllowCredentials=function(a){this._allowCredentials=a;return this};f.setIsBackgroundRequest=function(a){this._isBackgroundRequest=a;return this};f.setReplaceTransportMarkers=function(a){a===void 0&&(a=!0);this._shouldReplaceTransportMarkers=a;return this};f.sendAndReturnAbortHandler=function(){var a=this;this.send();return function(){return a.abort()}};f.send=function(b){var f=this;b=b||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,c("getAsyncParams")(this.method));(p||(p=c("isEmpty")))(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);(o||(o=c("Env"))).force_param&&Object.assign(this.data,(o||(o=c("Env"))).force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){K.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});c("Arbiter").inform("AsyncRequest/send",{request:this,ts:(n||(n=c("performanceAbsoluteNow")))()});var g,h;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:d("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(g=this.uri.addQueryData(this.data).toString(),h=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),g=this.uri.toString(),h=(k||(k=d("PHPQuerySerializer"))).serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var i=new(c("FetchStreamTransport"))(this.uri);this._setJSONPTransport(i);this._markRequestSent();i.send();this.setOption("useIframeTransport",!1);return!0}catch(a){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("useIframeTransport")){e(["JSONPTransport"],function(a){a=new a(f.uri);f._setJSONPTransport(a);f._markRequestSent();a.send()});return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var j;try{j=d("ZeroRewrites").getTransportBuilderForURI(this.uri)()}catch(a){throw c("unrecoverableViolation")(a.message,"comet_infra",{},{blameToPreviousFrame:1})}if(!j)return!1;this.schedule("AsyncRequest.send");j.onreadystatechange=function(){var a=f.transport;a&&a.readyState>=2&&a.readyState<=3&&f._handleFlushedResponse();j.readyState===4&&f.continuation.last(f._onStateChange)};this.progressHandler&&x(j)&&(j.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.progressHandler&&f.progressHandler.apply(f,b)})});this.uploadProgressHandler&&y(j)&&(j.upload.onprogress=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];f.continuation(function(){f.uploadProgressHandler&&f.uploadProgressHandler.apply(f,b)})});b||(this.remainingRetries=this.getOption("retries"));this.transport=j;try{j.open(this.method,g,c("gkx")("25571")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(a){return!1}if(!this.uri.isSameOrigin()&&!c("uriIsRelativePath")(this.uri)&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!z(j))return!1;this._canSendCredentials()&&(j.withCredentials=!0)}this.method=="POST"&&!this.rawData&&j.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&j.setRequestHeader("X-FB-BACKGROUND-STATE","1");var l=c("getAsyncHeaders")(this.uri);Object.keys(l).forEach(function(a){j&&j.setRequestHeader(a,l[a])});c("Arbiter").inform("AsyncRequest/will_send",{request:this});if(j)for(i in this.headers)Object.prototype.hasOwnProperty.call(this.headers,i)&&j.setRequestHeader(i,this.headers[i]);this._addStatusIndicator();this._markRequestSent();j.send(h);this.timeout!==null&&this.resetTimeout(this.timeout);a._inflightCount++;return!0};f.schedule=function(a){this.continuation=c("TimeSlice").getReusableContinuation(a)};f._canSendCredentials=function(){if(this._allowCredentials===!1)return!1;var a=new(m||(m=c("URI")))(this.uri);return c("isBulletinDotComURI")(a)||c("isFacebookURI")(a)||c("isInternalFBURI")(a)||c("isMessengerDotComURI")(a)||c("isWorkplaceDotComURI")(a)||c("isWorkroomsDotComURI")(a)||c("isWorkDotMetaDotComURI")(a)||c("isHorizonDotMetaDotComURI")(a)||c("isSparkDotMetaDotComURI")(a)};f._markRequestSent=function(){var a=new(m||(m=c("URI")))(this.getURI()).getQualifiedURI().toString();d("ResourceTimingsStore").updateURI(c("ResourceTypes").XHR,this.resourceTimingStoreUID,a);d("ResourceTimingsStore").annotate(c("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",a);d("ResourceTimingsStore").measureRequestSent(c("ResourceTypes").XHR,this.resourceTimingStoreUID)};f.promisePayload=function(a){return this.exec().then(function(a){return a.payload},function(a){throw a.toError()})};f.exec=function(a){var d=this;if(this.getHandler()!==c("emptyFunction")||this.getErrorHandler()!==c("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(l||(l=b("Promise")))(function(b,c){d.setHandler(b).setErrorHandler(c).send(a)})};a.bootstrap=function(b,e,f){var g="GET",h=!0,i={};(f||e&&e.rel=="async-post")&&(g="POST",h=!1,b&&(b=new(m||(m=c("URI")))(b),i=b.getQueryData(),b.setQueryData({})));f=d("Parent").byClass(e,"stat_elem")||e;if(f&&d("CSS").hasClass(f,"async_saving"))return!1;b=new a(b).setReadOnly(h).setMethod(g).setData(i).setNectarModuleDataSafe(e).setRelativeTo(e);e&&(b.setHandler(function(a){c("Event").fire(e,"success",{response:a})}),b.setErrorHandler(function(a){c("Event").fire(e,"error",{response:a})!==!1&&c("AsyncResponse").defaultErrorHandler(a)}));if(f instanceof HTMLElement){b.setStatusElement(f);h=f.getAttribute("data-status-class");h&&b.setStatusClass(h)}b.send();return!1};a.bootstrap_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c,d){a.bootstrap(b,c,d)};a.post=function(b,c){new a(b).setReadOnly(!1).setMethod("POST").setData(c).send();return!1};a.post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES=function(b,c){a.post(b,c)};a.getLastID=function(){return C};a.ignoreUpdate=function(){E=!0};a.getInflightCount=function(){return this._inflightCount};return a}();H._inflightCount=0;var I,J=[],K=function(){function a(){this._requests=[]}var b=a.prototype;b.add=function(a){this._requests.push(a)};b.remove=function(a){var b=this._requests,c=this._requestsSent;for(var d=0,e=b.length;d<e;d++)b[d]===a&&(c?b[d]=null:b.splice(d,1))};b.send=function(){this._requestsSent&&j(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var a=this._requests;if(!a.length)return;var b;if(a.length===1)b=a[0];else{a=a.filter(Boolean).map(function(a){return[a.uri.getPath(),(k||(k=d("PHPQuerySerializer"))).serialize(a.data)]});b=this._wrapperRequest=new H("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:a}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}b&&b.setOption("bundle",!1).send()};b._handler=function(a){var b=this,c=a.getPayload().responses;if(c.length!==this._requests.length)return;a=function(a){var d=b._requests[a];if(!d)return"continue";var e=d.uri.getPath();b._wrapperRequest&&(d.id=b._wrapperRequest.id);if(c[a][0]!==e){d.continuation.last(function(){d.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+e})});return"continue"}d.continuation.last(function(){d.handleResponse(c[a][1])})};for(var d=0;d<this._requests.length;d++){var e=a(d);if(e==="continue")continue}J.splice(J.indexOf(this,1))};b._transportErrorHandler=function(a){var b=this,c={transportError:a.errorDescription};a=this._requests.filter(Boolean).map(function(a){b._wrapperRequest&&(a.id=b._wrapperRequest.id);a.invokeResponseHandler(c);return a.uri.getPath()})};a.schedule=function(b){b.schedule("AsyncMultiplex.schedule");I||(I=new a(),J.push(I),c("TimeSlice").guard(function(){c("setTimeoutAcrossTransitions")(function(){I&&(I.send(),I=null)},0)},"AsyncMultiplex.schedule",{propagationType:c("TimeSlice").PropagationType.ORPHAN})());I.add(b);return I};a.unschedule=function(a){J.forEach(function(b){b.remove(a)})};return a}();H.suppressOnloadToken={};a.AsyncRequest=H;g["default"]=H}),226);/*FB_PKG_DELIM*/
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","retroactiveBackupsState","editMsgHistory","deletedMessages","ebMsgRanges"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a,b=Math.max(101,c("justknobx")._("1716"));return(a=h)!=null?a:d("MAWDbVersionList").toVersion(b)}function b(a){if(!c("gkx")("652"))return;if(a==null){h=null;return}if(a==="current"){h=null;return}if(a==="latest"){h=d("MAWDbVersionList").toVersion(Number.POSITIVE_INFINITY);return}Number.isInteger(a)&&(h=d("MAWDbVersionList").toVersion(a))}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));return{auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey}}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});a=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};b=a(d("MAWGetDbVersion").getArmadilloDbVersion());g.getSchemaForVersion=a;g.clientSchema=b}),98);
__d("isArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,primary_key:["groupId"]},{name:"pending_tasks",id:2,primary_key:["taskId"],indexes:{queueNameTaskId:{columns:["queueName","taskId"]}},auto_increment:!0},{name:"network_requests",id:3,primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,primary_key:["errorId"],auto_increment:!0},{name:"mailbox_task_completion_notification_context",id:232,primary_key:["notificationScopeKey"]},{name:"mailbox_task_completion_api_tasks",id:233,primary_key:["taskId"]}],[{name:"contacts",id:7,primary_key:["id"],indexes:{blockedByViewerStatusId:{columns:["blockedByViewerStatus","id"]}}},{name:"ig_contact_info",id:176,primary_key:["contactId"]},{name:"work_contact_info",id:210,primary_key:["id"]},{name:"contextual_profile_v1",id:216,primary_key:["ownerId","associatedEntityId"],indexes:{associatedEntityIdAndOwner:{columns:["associatedEntityId","ownerId"]}}},{name:"profile_sheet_information",id:256,primary_key:["userId"]},{name:"fb_transport_contacts",id:240,primary_key:["pk"]},{name:"bot_profile_info_v2",id:299,primary_key:["botId"]},{name:"horizon_contact_info",id:323,primary_key:["contactId"]}],[{name:"reactions",id:8,primary_key:["threadKey","messageId","actorId"],indexes:{fk_messages:{columns:["threadKey","timestampMs","messageId","actorId"]}}},{name:"threads",id:9,primary_key:["threadKey"],indexes:{lastActivityTimestampMs:{columns:["lastActivityTimestampMs","threadKey"]},parentThreadKeyLastActivityTimestampMs:{columns:["parentThreadKey","lastActivityTimestampMs","threadKey"]},secondaryParentThreadKeyLastActivityTimestampMs:{columns:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignore_nulls:["secondaryParentThreadKey"]},clientThreadKey:{columns:["clientThreadKey","threadKey"],ignore_nulls:["clientThreadKey"]},threadTypeLastActivityTimestampMs:{columns:["threadType","lastActivityTimestampMs","threadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{columns:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"]}}},{name:"threads_ranges_v2__generated",id:10,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,primary_key:["threadKey","timestampMs","messageId"],indexes:{optimistic:{columns:["offlineThreadingId"]},messageDisplayOrder:{columns:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"]},messageId:{columns:["messageId"]},messageSubthreadKey:{columns:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignore_nulls:["subthreadKey"]},replySourceIdMessageID:{columns:["replySourceId","messageId"],ignore_nulls:["replySourceId"]},ephemeralExpirationTs:{columns:["ephemeralExpirationTs","messageId"],ignore_nulls:["ephemeralExpirationTs"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{columns:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignore_nulls:["botResponseId"]}}},{name:"messages_ranges_v2__generated",id:13,primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,primary_key:["threadKey","contactId"],indexes:{threadKeyReadWatermarkTimestampMs:{columns:["threadKey","readWatermarkTimestampMs","contactId"]},threadKeyDeliveredWatermarkTimestampMs:{columns:["threadKey","deliveredWatermarkTimestampMs","contactId"]},contactIdThreadKey:{columns:["contactId","threadKey"]}}},{name:"ctas",id:15,primary_key:["ctaId"]},{name:"attachments",id:16,primary_key:["threadKey","messageId","attachmentFbid"],indexes:{fk_messages:{columns:["threadKey","timestampMs","messageId","attachmentFbid"]},idx_attachments_collapsible_id:{columns:["threadKey","collapsibleId","messageId","attachmentFbid"]}}},{name:"attachments_ranges_v2__generated",id:17,primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,primary_key:["attachmentFbid","attachmentIndex"],indexes:{fk_attachments:{columns:["threadKey","messageId","attachmentFbid","attachmentIndex"]}}},{name:"attachment_ctas",id:19,primary_key:["ctaId"],indexes:{fk_attachments:{columns:["threadKey","messageId","attachmentFbid","ctaId"]}}},{name:"quick_reply_ctas",id:20,primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,primary_key:["id"]},{name:"group_membership_approval_requests",id:26,primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,primary_key:["threadKey","messageId","ctaId"],indexes:{ctaId:{columns:["ctaId"]}}},{name:"thread_nullstate",id:28,primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,primary_key:["ctaId"],indexes:{threadKeyCtaId:{columns:["threadKey","ctaId"]}}},{name:"focus_mode_ctas",id:30,primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,primary_key:["taskId"]},{name:"messages_status",id:33,primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,primary_key:["threadKey"]},{name:"folder_metadata",id:35,primary_key:["parentThreadKey"]},{name:"polls",id:38,primary_key:["pollId"]},{name:"poll_options_v2",id:39,primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v3__generated",id:247,primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"]},{name:"community_folders",id:162,primary_key:["folderId"],indexes:{byFbGroupId:{columns:["fbGroupId","folderId"]}}},{name:"community_members",id:170,primary_key:["communityId","contactId","source","requestId"],indexes:{communitySource:{columns:["communityId","source","requestId","contactId","name"]},communityContact:{columns:["communityId","contactId","requestId","source","name"]}}},{name:"community_members_ranges_v2__generated",id:189,primary_key:["communityId","isAdmin","minName","source","requestId"]},{name:"attachment_conversion",id:164,primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,primary_key:["threadKey"]},{name:"ig_thread_info",id:194,primary_key:["threadKey"],indexes:{igThreadID:{columns:["igThreadId"]}}},{name:"edit_message_history",id:322,primary_key:["pk"],indexes:{originalMsgPkEditTs:{columns:["originalMessagePk","serverAdjustedEditTsMs"]}},auto_increment:!0},{name:"ig_thread_labels",id:318,primary_key:["threadKey","labelType"]},{name:"group_invites",id:197,primary_key:["threadKey","inviterId","inviteeId"],indexes:{threadKeyInviterIDInviteeID:{columns:["threadKey","inviterId","inviteeId"]}}},{name:"inbox_threads_ranges",id:198,primary_key:["syncGroup"]},{name:"community_direct_invites_presets",id:199,primary_key:["communityId","presetType","source"]},{name:"msg_pinned_messages_v2",id:205,primary_key:["threadKey","messageId","pinnedTimestampMs"],indexes:{pinnedMessageDisplayOrder:{columns:["threadKey","pinnedTimestampMs","messageId"]}}},{name:"filtered_messages_ranges_v2__generated",id:211,primary_key:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"]},{name:"taken_down_threads",id:212,primary_key:["threadKey"]},{name:"participant_list_queries",id:219,primary_key:["threadKey"]},{name:"sync_group_threads_ranges",id:220,primary_key:["syncGroup","parentThreadKey"]},{name:"community_chat_message_seen_count",id:221,primary_key:["threadKey","messageId"]},{name:"community_chat_polls",id:223,primary_key:["pollId"]},{name:"community_chat_poll_options",id:224,primary_key:["pollId","optionId"]},{name:"community_chat_poll_votes",id:225,primary_key:["pollId","optionId","contactId"]},{name:"reactions_v2",id:226,primary_key:["threadKey","messageId","reactionFbid","messageTimestamp"],indexes:{optimistic:{columns:["threadKey","messageId","reactionFbid"]}}},{name:"reactions_v2_details_users",id:227,primary_key:["reactorId","reactionFbid"]},{name:"reactions_v2_details_users_ranges_v2__generated",id:228,primary_key:["reactorId","reactionFbid","minTimestampMs"]},{name:"reaction_v2_types",id:229,primary_key:["reactionFbid"]},{name:"bots",id:230,primary_key:["threadKey","botId"]},{name:"business_comm_items",id:234,primary_key:["threadKey","entId"]},{name:"group_invitations_pending",id:235,primary_key:["linkHash"]},{name:"business_support_notification_settings",id:236,primary_key:["userId"]},{name:"thread_label_mappings",id:237,primary_key:["threadKey","labelId"]},{name:"inbox_view_state",id:277,primary_key:["interface_","configName"]},{name:"inbox_view_state_v2",id:281,primary_key:["configName"]},{name:"audio_channel_events",id:238,primary_key:["eventId","roomId"]},{name:"reactions_v2_details",id:239,primary_key:["threadId","messageId","reactorId","reactionFbid"]},{name:"reactions_v2_details_ranges_v2__generated",id:243,primary_key:["threadId","messageId","reactionFbid","minTimestampMs"]},{name:"community_chat_poll_votes_ranges_v2__generated",id:244,primary_key:["pollId","optionId","minTimestampMs"]},{name:"discoverable_chat_participants",id:248,primary_key:["threadId","contactId","source"]},{name:"discoverable_chat_participants_ranges_v2__generated",id:249,primary_key:["threadId","source","minName"]},{name:"roll_calls",id:250,primary_key:["rollCallId","threadKey"]},{name:"community_surface_ranges",id:253,primary_key:["surfaceType","communityKey"]},{name:"community_rules",id:254,primary_key:["communityId","ruleId"]},{name:"roll_call_contributions_v2",id:255,primary_key:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],indexes:{optimistic:{columns:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"]}}},{name:"business_thread_info",id:260,primary_key:["threadKey"]},{name:"thread_creation_status",id:278,primary_key:["taskId"]},{name:"shared_albums",id:279,primary_key:["sharedAlbumId","threadKey"]},{name:"shared_album_contributions",id:280,primary_key:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"]},{name:"shared_albums_multimedia_upload_jobs",id:283,primary_key:["offlineThreadingId"]},{name:"shared_albums_multimedia_upload_subjobs_status",id:284,primary_key:["offlineThreadingId","jobId"]},{name:"thread_point_query_ttrc",id:286,primary_key:["threadKey"]},{name:"business_thread_suggestions",id:290,primary_key:["threadKey","suggestionType"]},{name:"community_chat_admin_assist_command_sequences",id:291,primary_key:["commandSequenceId"]},{name:"community_thread_sync_info",id:294,primary_key:["threadKey"]},{name:"thread_bans",id:297,primary_key:["threadKey","contactId"]},{name:"support_translations",id:300,primary_key:["messageId","targetLocale"]},{name:"threads_optimistic_metadata",id:312,primary_key:["threadKey"]},{name:"ai_bot_feedback_submission_status",id:315,primary_key:["botResponseId"]},{name:"igd_xma_receiver_fetch",id:316,primary_key:["messageId"]},{name:"thread_seen_heads_queries",id:325,primary_key:["threadKey"]}],[{name:"media_send_jobs",id:51,primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,primary_key:["query","globalIndex"]},{name:"search_queries",id:67,primary_key:["query","surfaceType"]},{name:"universal_search_recent_searches",id:68,primary_key:["resultId"]},{name:"message_search_results",id:69,primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,primary_key:["type_","query","threadKeyV2"]},{name:"participant_search_queries",id:214,primary_key:["query","threadKey"]}],[{name:"cm_search_nullstate_metadata",id:289,primary_key:["threadKey","scoreType"]}],[{name:"ai_bot_search_metadata",id:298,primary_key:["botId"]}],[{name:"contact_upload_settings",id:74,primary_key:["userid"]},{name:"gdpr_settings",id:75,primary_key:["userid"]},{name:"presence_settings",id:187,primary_key:["userId"]},{name:"persistent_menu_items",id:77,primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,primary_key:["url","optimisticClientToken"],indexes:{optimistic:{columns:["optimisticClientToken"]}}},{name:"video_chat_links_attempted_joiners",id:79,primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,primary_key:["userId"]},{name:"pinned_threads",id:82,primary_key:["threadKey"],indexes:{pinnedTimestamp:{columns:["pinnedTimestamp","threadKey"]}}},{name:"messaging_settings",id:83,primary_key:["id"]},{name:"reachability_settings",id:148,primary_key:["audience"]},{name:"feature_limits",id:150,primary_key:["type_"]},{name:"emoji_sets",id:151,primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,primary_key:[]},{name:"cm_community_list",id:166,primary_key:["communityId"]},{name:"cm_channel_list",id:167,primary_key:["communityId","threadId"],indexes:{threadIdCommunityId:{columns:["threadId","communityId"]}}},{name:"cm_category_list",id:182,primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,primary_key:["pk"],auto_increment:!0},{name:"fb_events",id:200,primary_key:["eventId"]},{name:"cm_channel_events",id:201,primary_key:["eventId","threadId"],indexes:{eventsInThread:{columns:["threadId","eventId"]}}},{name:"community_events",id:202,primary_key:["eventId","communityId"]},{name:"avatar_settings",id:209,primary_key:["threadId"]},{name:"thread_labels",id:215,primary_key:["labelId"]},{name:"thread_limits",id:287,primary_key:["threadKey"]},{name:"business_support_case_details",id:222,primary_key:["threadId"]},{name:"messaging_privacy_settings",id:288,primary_key:["userId"]},{name:"rtc_call_events",id:245,primary_key:["pk"],auto_increment:!0},{name:"custom_thread_commands",id:296,primary_key:["threadKey","commandId"],indexes:{rank:{columns:["threadKey","rank"]},commandId:{columns:["commandId"]}}},{name:"msgr_quiet_time",id:317,primary_key:["quietTimeId"],indexes:{quietTimeId:{columns:["quietTimeId"]}}}],[{name:"payment_type_paypal",id:85,primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,primary_key:["paymentMethodId"]},{name:"payment_method",id:89,primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,primary_key:["optionId"]},{name:"payments_eligibility",id:92,primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,primary_key:["orderId","id"]},{name:"p2m_charge",id:97,primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"p2p_request_v2",id:100,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"p2p_transfer_v2",id:101,primary_key:["timestampMs","transactionId"],indexes:{optimistic:{columns:["optimisticTransactionId"]}}},{name:"transaction_history",id:102,primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,primary_key:["userId"]},{name:"payment_client_auth_token",id:107,primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,primary_key:["requestId"]},{name:"payment_server_request_results",id:109,primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,primary_key:["requestId"]}],[{name:"connectivity_status",id:114,primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,primary_key:["fbid"]},{name:"gradient_colors",id:117,primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,primary_key:["stickerId"],indexes:{stickerPackId:{columns:["stickerPackId","stickerId"]}}},{name:"sticker_packs",id:122,primary_key:["packId"]},{name:"sticker_search_results",id:123,primary_key:["resultIndex","query","type_"]},{name:"sticker_search_queries",id:124,primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,primary_key:["packId"]}],[{name:"forward_content",id:129,primary_key:["value","type_"]}],[{name:"linked_groups",id:130,primary_key:["id"],indexes:{threadKey:{columns:["threadKey"]}}}],[{name:"ranking_scores",id:134,primary_key:["contactId","scoreType"],indexes:{scoreTypeContactId:{columns:["scoreType","contactId"]}}},{name:"ranking_requests",id:135,primary_key:["scoreType"]},{name:"value_model_rules",id:136,primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,primary_key:["feature"]},{name:"value_model_output",id:138,primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,primary_key:["bucketId"],indexes:{optimistic:{columns:["ownerId","bucketType"]}}},{name:"stories",id:54,primary_key:["storyId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"story_viewers",id:55,primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,primary_key:["reactionId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"story_ad_unit",id:57,primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,primary_key:["ctaId"]},{name:"story_overlays",id:60,primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,primary_key:["queryId"]},{name:"status",id:62,primary_key:["statusId"],indexes:{optimistic:{columns:["optimisticClientId"]}}},{name:"rooms",id:63,primary_key:["roomId"],indexes:{optimistic:{columns:["optimisticClientToken"]}}},{name:"room_participants",id:64,primary_key:["roomId","participantId","type_"],indexes:{optimistic:{columns:["roomId","participantId"]}}}],[{name:"live_location_sharers",id:149,primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,primary_key:["serverThreadKey","clientThreadPk","jid"],indexes:{fk_threads:{columns:["serverThreadKey"]},chat_id:{columns:["clientThreadPk"]},jid:{columns:["jid"]}}},{name:"media_staging",id:161,primary_key:["offlineAttachmentId"]},{name:"client_accounts",id:272,primary_key:["pk"]},{name:"client_messages",id:273,primary_key:["pk"]},{name:"client_participants",id:274,primary_key:["pk"]},{name:"client_threads",id:276,primary_key:["pk"]}],[{name:"data_trace_meta",id:153,primary_key:["traceId"],indexes:{shouldFlushInitTimestampMsTraceId:{columns:["shouldFlush","initTimestampMs","traceId"]}}},{name:"data_trace_addon",id:154,primary_key:["addonId"],indexes:{traceIdAddonId:{columns:["traceId","addonId"]}},auto_increment:!0}],[{name:"ad_context",id:160,primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,primary_key:["threadKey"]},{name:"client_thread_proactive_warning_settings",id:241,primary_key:["threadPk"]}],[{name:"presence_states",id:186,primary_key:["contactId"],indexes:{statusContactId:{columns:["status","contactId"]}}}],[{name:"available_reactions",id:188,primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,primary_key:["pk"],indexes:{fk_pending_tasks:{columns:["pendingBackupTaskId"]}},auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,primary_key:["backupId"]},{name:"encrypted_backups_debug_metadata",id:206,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata",id:207,primary_key:["epochId"]},{name:"encrypted_backups_debug_metadata_v2",id:217,primary_key:["backupId"]},{name:"encrypted_backups_epoch_debug_metadata_v2",id:218,primary_key:["epochId"]},{name:"secure_encrypted_backups_epochs",id:169,primary_key:["epochId"],indexes:{fk_secure_encrypted_backups_client_state:{columns:["backupId","epochId"]}}},{name:"encrypted_backups",id:172,primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,primary_key:["taskId"],indexes:{fk_pending_tasks:{columns:["taskId"]}}},{name:"secure_encrypted_backups_message_thread_id_context",id:180,primary_key:["taskId","listId"],indexes:{fk_pending_tasks:{columns:["taskId"]}}},{name:"encrypted_backups_virtual_devices",id:184,primary_key:["pk"],auto_increment:!0},{name:"encrypted_backups_metadata",id:196,primary_key:["backupId"]},{name:"device_metadata",id:185,primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,primary_key:["taskId"]},{name:"encrypted_backups_dyi_backup_restore_status",id:208,primary_key:["pk"]},{name:"encrypted_backups_message_backup_status",id:213,primary_key:["messagePk"]},{name:"encrypted_backups_client_restore_status",id:231,primary_key:["threadId"]},{name:"third_party_id_store",id:242,primary_key:["platform"]},{name:"secure_get_secrets_context",id:259,primary_key:["deviceRegistrationId"]},{name:"encrypted_backups_otc_devices",id:261,primary_key:["deviceId"]},{name:"experiences_shared_state",id:282,primary_key:["stateKey"]},{name:"encrypted_backups_otc_notification_sending_status",id:285,primary_key:["pk"]},{name:"pending_protobuf_backups_context",id:305,primary_key:["pk"],auto_increment:!0}],[{name:"secure_encrypted_backups_devices",id:191,primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,primary_key:["deviceId","supportedVersion"],indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{columns:["deviceId","supportedVersion"]}}}],[{name:"e2ee_dummy_table_for_sync",id:171,primary_key:["placeholder"]},{name:"cutover_threads",id:193,primary_key:["openThreadId"]},{name:"occamadillo_most_recent_message_per_thread",id:292,primary_key:["threadKey"]},{name:"offline_queue_thread_status",id:295,primary_key:["threadJid"]},{name:"client_message_translation_info",id:324,primary_key:["pk"]}],[{name:"community_messaging_aggregated_user_presence_counts_for_community",id:203,primary_key:["folderId"]},{name:"community_messaging_aggregated_copresence_counts_for_chat",id:204,primary_key:["threadId"]}],[{name:"workrooms_co_presence_states",id:246,primary_key:["userId"],indexes:{userCoPresence:{columns:["userId","coPresenceObjectId"]}}}],[{name:"persistent_menu_ctas",id:251,primary_key:["threadKey","ctaId"]}],[{name:"workroom_creation_requests",id:252,primary_key:["creationId"]}],[{name:"pake_messages",id:258,primary_key:["sessionId"]}],[{name:"workroom_invites",id:257,primary_key:["inviteId"]}],[{name:"work_genai",id:293,primary_key:["threadKey","messageId"]}],[{name:"local_message_persistence_store",id:301,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_supplemental",id:302,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_deleted_messages",id:303,primary_key:["pk"],auto_increment:!0},{name:"local_message_persistence_store_tag_index",id:304,primary_key:["pk"],auto_increment:!0}],[{name:"secure_acs_configurations",id:307,primary_key:["configId"]},{name:"secure_acs_blinded_tokens",id:308,primary_key:["tokenId"],auto_increment:!0},{name:"secure_acs_tokens",id:309,primary_key:["tokenId"]},{name:"acs_request_context",id:310,primary_key:["taskId"]},{name:"anonymous_task_context",id:311,primary_key:["taskId"]}],[{name:"lightspeed_task_context",id:306,primary_key:["taskId"]}],[{name:"ohai_gateway_key_configs",id:313,primary_key:["keyId"]}],[{name:"client_xmas",id:314,primary_key:["pk"]}],[{name:"supervision_edge",id:319,primary_key:["edgeId"]},{name:"supervision_metadata",id:320,primary_key:["supervisionMetadataId"]},{name:"screen_time",id:321,primary_key:["recordId"],auto_increment:!0}]]}),null);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";e="_db_schema_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d;g.schemaVersionTableName=e}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"}]};b=a;f["default"]=b}),66);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var c={},e={},f=-1;for(var g=0;g<b.length;g++){var h=b[g];for(var h=h,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k,l;if(i){if(j>=h.length)break;l=h[j++]}else{j=h.next();if(j.done)break;l=j.value}l=l;k={autoIncrement:(k=l.auto_increment)!=null?k:!1,cascadeUpdates:(k=a[l.name])!=null?k:[],id:parseInt(l.id,10),indexes:(k=Object.fromEntries(Object.entries((k=l.indexes)!=null?k:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?k:{},indexPredicates:Object.fromEntries(Object.entries((k=l.indexes)!=null?k:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:l.name,primaryKeyIds:l.primary_key};c[k.id]=k;e[k.name]=k;k.id>f&&(f=k.id)}}l={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]};c[l.id]=l;e[l.name]=l;k={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]};c[k.id]=k;e[k.name]=k;j={autoIncrement:!1,cascadeUpdates:[],id:++f,indexes:{},name:d("ReStoreDefaultValuesMetadata").schemaVersionTableName,primaryKeyIds:[]};c[j.id]=j;e[j.name]=j;return{tableIds:c,tableNames:e}}}g.getBuildTableData=a}),98);
__d("LSMetadata",["LSDbForeignKeys","LSDbSchema","LSTableSchemas","ReStoreMetadata","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=d("ReStoreMetadata").getBuildTableData(c("LSDbForeignKeys"));function a(a){var b=a.flat().reduce(function(a,b){return Math.max(a,parseInt(b.id,10))},-1);a=h([].concat(a,[d("LSDbSchema").clientSchema.map(function(a,c){return babelHelpers["extends"]({},a,{id:(b+c+1).toString()})})]));var c=a.tableIds;a=a.tableNames;return{tableIds:c,tableNames:a}}function i(a){return!0}function j(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},i);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}b=a(c("LSTableSchemas").map(function(a){return a.map(function(a){var b;return babelHelpers["extends"]({},a,{indexes:Object.fromEntries(Object.keys((b=a.indexes)!=null?b:{}).map(function(b){var d=c("nullthrows")(a.indexes)[b],e=d.ignore_nulls;d=babelHelpers.objectWithoutPropertiesLoose(d,["ignore_nulls"]);return[b,babelHelpers["extends"]({},d,{predicate:e?j(e):void 0})]}))})})}));g.buildTableData=h;g.buildMetadata=a;g.metadata=b}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);/*FB_PKG_DELIM*/
__d("$",["fb-error-lite"],(function(a,b,c,d,e,f,g){function a(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function b(a){return h(a,typeof a==="string"?document.getElementById(a):a)}function h(a,b){if(!b){a=c("fb-error-lite").err('Tried to get element with id of "%s" but it is not present on the page',String(a));a.taalOpcodes=a.taalOpcodes||[];a.taalOpcodes=[c("fb-error-lite").TAALOpcode.PREVIOUS_FILE];throw a}return b}a.fromIDOrElement=b;g["default"]=a}),98);
__d("CSS",["$","CSSCore"],(function(a,b,c,d,e,f,g){var h=typeof window!="undefined"?window.CSS:null,i="hidden_elem";h=h&&h.supports.bind(h);function a(a,b){c("$").fromIDOrElement(a).className=b||"";return a}function j(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").hasClass(c("$").fromIDOrElement(a),b)}function b(a,b){return a instanceof Document||a instanceof Text?!1:d("CSSCore").matchesSelector(c("$").fromIDOrElement(a),b)}function k(a,b){return d("CSSCore").addClass(c("$").fromIDOrElement(a),b)}function l(a,b){return d("CSSCore").removeClass(c("$").fromIDOrElement(a),b)}function m(a,b,e){return d("CSSCore").conditionClass(c("$").fromIDOrElement(a),b,!!e)}function n(a,b){return m(a,b,!j(a,b))}function e(a){return!j(a,i)}function f(a){return k(a,i)}function o(a){return l(a,i)}function p(a){return n(a,i)}function q(a,b){return m(a,i,!b)}g.supports=h;g.setClass=a;g.hasClass=j;g.matchesSelector=b;g.addClass=k;g.removeClass=l;g.conditionClass=m;g.toggleClass=n;g.shown=e;g.hide=f;g.show=o;g.toggle=p;g.conditionShow=q}),98);
__d("createArrayFromMixed",["invariant"],(function(a,b,c,d,e,f,g,h){function i(a){var b=a.length;!Array.isArray(a)&&(typeof a==="object"||typeof a==="function")||h(0,3914);typeof b==="number"||h(0,3915);b===0||b-1 in a||h(0,3916);typeof a.callee!=="function"||h(0,3917);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(a){}var c=Array(b);for(var d=0;d<b;d++)c[d]=a[d];return c}function j(a){return!!a&&(typeof a==="object"||typeof a==="function")&&"length"in a&&!("setInterval"in a)&&typeof a.nodeType!=="number"&&(Array.isArray(a)||"callee"in a||"item"in a)}function a(a){if(!j(a))return[a];else if(Array.isArray(a))return a.slice();else return i(a)}g["default"]=a}),98);
__d("createObjectFrom",[],(function(a,b,c,d,e,f){function g(a,b){if(b===void 0)return g(a,!0);var c={};if(Array.isArray(b))for(var d=a.length-1;d>=0;d--)c[a[d]]=b[d];else for(d=a.length-1;d>=0;d--)c[a[d]]=b;return c}f["default"]=g}),66);
__d("isElementNode",["isNode"],(function(a,b,c,d,e,f){function a(a){return b("isNode")(a)&&a.nodeType==1}e.exports=a}),null);
__d("DOMQuery",["CSS","FBLogger","containsNode","createArrayFromMixed","createObjectFrom","ge","ifRequired","isElementNode","isNode"],(function(a,b,c,d,e,f,g){var h=/^\.-?[_a-zA-Z]+[\w-]*$/;function i(a,b){return a.hasAttribute?a.hasAttribute(b):a.getAttribute(b)!==null}function a(a,b){a=j(a,b);return a[0]}function b(a,b,c){b=j(a,b);a=j(a,c);b.length===1&&a.length===1&&b[0]===a[0]?c=b:c=b.concat(a);return c[0]}function j(a,b){if(!a||!a.getElementsByTagName)return[];b=b.split(" ");var e=[a];for(var f=0;f<b.length;f++){if(e.length===0)break;if(b[f]==="")continue;var g=b[f],j=b[f],k=[],l=!1;if(g.charAt(0)=="^")if(f===0)l=!0,g=g.slice(1);else return[];g=g.replace(/\[(?:[^=\]]*=(?:\"[^\"]*\"|\'[^\']*\'))?|[.#]/g," $&");g=g.split(" ");var m=g[0]||"*",n=m=="*",o=g[1]&&g[1].charAt(0)=="#";if(o){o=c("ge")(g[1].slice(1),a,m);if(o&&(n||o.tagName.toLowerCase()==m))for(var p=0;p<e.length;p++)if(l&&c("containsNode")(o,e[p])){k=[o];break}else if(document==e[p]||c("containsNode")(e[p],o)&&e[p]!==o){k=[o];break}}else{o=[];p=e.length;var q,r=!l&&j.indexOf("[")<0&&document.querySelectorAll;for(var s=0;s<p;s++){if(l){q=[];var t=e[s].parentNode;while(c("isElementNode")(t))(n||t.tagName.toLowerCase()==m)&&q.push(t),t=t.parentNode}else r?h.test(j)?q=e[s].getElementsByClassName(j.substring(1)):q=e[s].querySelectorAll(j):q=e[s].getElementsByTagName(m);t=q.length;for(var u=0;u<t;u++)o.push(q[u])}if(!r)for(q=1;q<g.length;q++){t=g[q];u=t.charAt(0)==".";n=t.substring(1);for(s=0;s<o.length;s++){p=o[s];if(!p||p.nodeType!==1)continue;if(u){d("CSS").hasClass(p,n)||delete o[s];continue}else{j=t.slice(1,t.length-1);m=j.indexOf("=");if(m<0){if(!i(p,j)){delete o[s];continue}}else{r=j.substr(0,m);j=j.substr(m+1);j=j.slice(1,j.length-1);if(p.getAttribute(r)!=j){delete o[s];continue}}}}}for(s=0;s<o.length;s++)if(o[s]){k.push(o[s]);if(l)break}}e=k}return e}function e(){var a=window.getSelection;if(a)return a()+"";else{a=document.selection;if(a)return a.createRange().text}return null}function f(a,b){(typeof a==="string"||typeof b==="string")&&c("FBLogger")("dom_query").info("Support for node IDs is deprecated. Use containsNode(ge(<id1>), ge(<id2>)) instead");return c("containsNode")(c("ge")(a),c("ge")(b))}function k(){var a=c("ifRequired")("Quickling",function(a){return a.isActive()?c("ge")("content"):null});return a||document.body}function l(a,b){b=c("createArrayFromMixed")(b).join("|").toUpperCase().split("|");b=c("createObjectFrom")(b);return c("isNode")(a)&&a.nodeName in b}function m(a){return l(a,["input","textarea"])||a.contentEditable==="true"}g.find=a;g.findPushSafe=b;g.scry=j;g.getSelection=e;g.contains=f;g.getRootElement=k;g.isNodeOfType=l;g.isInputNode=m}),98);
__d("DOMEvent",["invariant"],(function(a,b,c,d,e,f,g,h){a=function(){function a(a){this.event=a||window.event,typeof this.event.srcElement!=="unknown"||h(0,5798),this.target=this.event.target||this.event.srcElement}var b=a.prototype;b.preventDefault=function(){var a=this.event;a.preventDefault?(a.preventDefault(),"defaultPrevented"in a||(a.defaultPrevented=!0)):a.returnValue=!1;return this};b.isDefaultPrevented=function(){var a=this.event;return"defaultPrevented"in a?a.defaultPrevented:a.returnValue===!1};b.stopPropagation=function(){var a=this.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return this};b.kill=function(){this.stopPropagation().preventDefault();return this};a.killThenCall=function(b){return function(c){new a(c).kill();return b()}};return a}();g["default"]=a}),98);
__d("dedupString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return Object.keys((b={},b[a]=0,b))[0]}f["default"]=a}),66);
__d("wrapFunction",[],(function(a,b,c,d,e,f){var g={};function a(a,b,c){var d=b in g?g[b](a,c):a;return function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.apply(this,b)}}a.setWrapper=function(a,b){g[b]=a};f["default"]=a}),66);
__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],(function(a,b,c,d,e,f,g){var h=b("passiveEventListenerUtil").isPassiveEventListenerSupported,i,j;window.addEventListener?(i=function(a,c,d,e){e===void 0&&(e=!1),d.wrapper=b("wrapFunction")(d,"entry",b("dedupString")("DOMEventListener.add "+c)),a.addEventListener(c,d.wrapper,h?e:!1)},j=function(a,b,c,d){d===void 0&&(d=!1),a.removeEventListener(b,c.wrapper,h?d:!1)}):window.attachEvent?(i=function(a,c,d,e){e===void 0,d.wrapper=b("wrapFunction")(d,"entry","DOMEventListener.add "+c),a.attachEvent||g(0,2798),a.attachEvent("on"+c,d.wrapper)},j=function(a,b,c,d){d===void 0,a.detachEvent||g(0,2799),a.detachEvent("on"+b,c.wrapper)}):j=i=b("emptyFunction");a={add:function(a,b,c,d){d===void 0&&(d=!1);i(a,b,c,d);return{remove:function(){j(a,b,c,d)}}},remove:j};e.exports=a}),null);
__d("EventProfiler",["cr:708886"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:708886")}),98);
__d("Scroll",[],(function(a,b,c,d,e,f){function g(a,b){return!!b&&(a===b.documentElement||a===b.body)}function a(a){var b;if(a==null)return 0;var c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollTop)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollTop)||0:a.scrollTop||0}function b(a,b){if(a==null)return;var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollTop=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollTop=b||0)):a.scrollTop=b||0}function c(a){var b,c=a.ownerDocument;return g(a,c)?(c==null?void 0:(b=c.body)==null?void 0:b.scrollLeft)||(c==null?void 0:(b=c.documentElement)==null?void 0:b.scrollLeft)||0:a.scrollLeft||0}function d(a,b){var c=a.ownerDocument;g(a,c)?((c==null?void 0:c.body)&&(c.body.scrollLeft=b||0),(c==null?void 0:c.documentElement)&&(c.documentElement.scrollLeft=b||0)):a.scrollLeft=b||0}f.getTop=a;f.setTop=b;f.getLeft=c;f.setLeft=d}),66);
__d("FlowMigrationUtilsForLegacyFiles",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="flow_typing_for_legacy_code";function a(a){c("FBLogger")(h).blameToPreviousFile().event(h+".bad_call").mustfix(a);return new Error("["+h+"] "+a)}g.invariantViolation=a}),98);
__d("getDocumentScrollElement",["FlowMigrationUtilsForLegacyFiles"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof navigator!=="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function a(a){a=a||document;if(a.scrollingElement)return a.scrollingElement;a=!h&&a.compatMode==="CSS1Compat"?a.documentElement:a.body;a||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("null result in getDocumentScrollElement");return a}g["default"]=a}),98);
__d("getObjectValues",[],(function(a,b,c,d,e,f){function a(a){var b=[];for(var c in a)b.push(a[c]);return b}f["default"]=a}),66);
__d("Event",["$","Arbiter","DOMEvent","DOMEventListener","DOMQuery","DataStore","ErrorGuard","EventProfiler","ExecutionEnvironment","FBLogger","Parent","Scroll","TimeSlice","UserAgent","dedupString","fb-error","getDocumentScrollElement","getObjectValues"],(function(a,b,c,d,e,f){var g,h,i=b("fb-error").TAAL,j="Event.listeners";Event.prototype||(Event.prototype={});function k(a){(a.type==="click"||a.type==="mouseover"||a.type==="keydown")&&b("Arbiter").inform("Event/stop",{event:a})}var l=function(){"use strict";function a(a,b,c){this.cancelBubble=!1,this.target=a,this.type=b,this.data=c}var c=a.prototype;c.getData=function(){this.data=this.data||{};return this.data};c.stop=function(){return Event.stop(this)};c.prevent=function(){return Event.prevent(this)};c.isDefaultPrevented=function(){return Event.isDefaultPrevented(this)};c.kill=function(){return Event.kill(this)};c.getTarget=function(){return new(b("DOMEvent"))(this).target||null};return a}();function m(a){if(a instanceof l)return a;a||(!window.addEventListener&&document.createEventObject?a=window.event?document.createEventObject(window.event):{}:a={});if(!a._inherits_from_prototype)for(var b in Event.prototype)try{a[b]=Event.prototype[b]}catch(a){}return a}Object.assign(Event.prototype,{_inherits_from_prototype:!0,getRelatedTarget:function(){var a=this.relatedTarget||(this.fromElement===this.srcElement?this.toElement:this.fromElement);return a&&a.nodeType?a:null},getModifiers:function(){var a={control:!!this.ctrlKey,shift:!!this.shiftKey,alt:!!this.altKey,meta:!!this.metaKey};a.access=b("UserAgent").isPlatform("Mac OS X")?a.control:a.alt;a.any=a.control||a.shift||a.alt||a.meta;return a},isRightClick:function(){return this.which?this.which===3:this.button&&this.button===2},isMiddleClick:function(){return this.which?this.which===2:this.button&&this.button===4},isDefaultRequested:function(){return this.getModifiers().any||this.isMiddleClick()||this.isRightClick()}},l.prototype);c={listen:function(a,c,d,e,f){typeof d==="function"&&(d=b("TimeSlice").guard(d,b("dedupString")("Event.js "+c+" handler")));!f||typeof f==="boolean"?f={passive:!1}:f={passive:f.passive||!1};if(!(g||(g=b("ExecutionEnvironment"))).canUseDOM)return new u(a,d,null,c,e,null,f);typeof a==="string"&&(a=b("$")(a));typeof e==="undefined"&&(e=Event.Priority.NORMAL);if(typeof c==="object"){var h={};for(var k in c)h[k]=Event.listen(a,k,c[k],e,f);return h}if(c.match(/^on/i))throw new TypeError("Bad event name `"+c+"': use `click', not `onclick'.");if(!a){k=i.blameToPreviousFrame(new Error("Cannot listen to an undefined element."));b("FBLogger")("event").catching(k).mustfix("Tried to listen to element of type %s",c);throw k}if(a.nodeName=="LABEL"&&c=="click"){h=a.getElementsByTagName("input");a=h.length==1?h[0]:a}else if(a===window&&c==="scroll"){k=b("getDocumentScrollElement")();k!==document.documentElement&&k!==document.body&&(a=k)}h=b("DataStore").get(a,j,{});k=o[c];k&&(c=k.base,k.wrap&&(d=k.wrap(d)));q(a,h,c,f);k=h[c];e in k||(k[e]=[]);var l=k[e].length;d=new u(a,d,h,c,e,l,f);k[e][l]=d;k.numHandlers++;f.passive||(k.numNonPassiveHandlers++,p(a,h[c],c));return d},stop:function(a){var c=new(b("DOMEvent"))(a).stopPropagation();k(c.event);return a},prevent:function(a){new(b("DOMEvent"))(a).preventDefault();return a},isDefaultPrevented:function(a){return new(b("DOMEvent"))(a).isDefaultPrevented(a)},kill:function(a){a=new(b("DOMEvent"))(a).kill();k(a.event);return!1},getKeyCode:function(a){a=new(b("DOMEvent"))(a).event;if(!a)return!1;switch(a.keyCode){case 63232:return 38;case 63233:return 40;case 63234:return 37;case 63235:return 39;case 63272:case 63273:case 63275:return null;case 63276:return 33;case 63277:return 34}if(a.shiftKey)switch(a.keyCode){case 33:case 34:case 37:case 38:case 39:case 40:return null}return a.keyCode},getPriorities:function(){if(!n){var a=b("getObjectValues")(Event.Priority);a.sort(function(a,b){return a-b});n=a}return n},fire:function(a,b,c){c=new l(a,b,c);var d;do{var e=Event.__getHandler(a,b);e&&(d=e(c));a=a.parentNode}while(a&&d!==!1&&!c.cancelBubble);return d!==!1},__fire:function(a,b,c){a=Event.__getHandler(a,b);if(a)return a(m(c))},__getHandler:function(a,c){var d=b("DataStore").get(a,j);return d&&d[c]?d[c].domHandler:a["on"+c]},getPosition:function(a){a=new(b("DOMEvent"))(a).event;var c=b("getDocumentScrollElement")(),d=a.clientX+b("Scroll").getLeft(c);a=a.clientY+b("Scroll").getTop(c);return{x:d,y:a}}};Object.assign(Event,c);var n=null;d=function(a){return function(c){if(!b("DOMQuery").contains(this,c.getRelatedTarget()))return a.call(this,c)}};var o;!window.navigator.msPointerEnabled?o={mouseenter:{base:"mouseover",wrap:d},mouseleave:{base:"mouseout",wrap:d}}:o={mousedown:{base:"MSPointerDown"},mousemove:{base:"MSPointerMove"},mouseup:{base:"MSPointerUp"},mouseover:{base:"MSPointerOver"},mouseout:{base:"MSPointerOut"},mouseenter:{base:"MSPointerOver",wrap:d},mouseleave:{base:"MSPointerOut",wrap:d}};if(b("UserAgent").isBrowser("Firefox < 52")){f=function(a,b){b=m(b);var c=b.getTarget();while(c)Event.__fire(c,a,b),c=c.parentNode};document.documentElement.addEventListener("focus",f.bind(null,"focusin"),!0);document.documentElement.addEventListener("blur",f.bind(null,"focusout"),!0)}var p=function(a,c,d){var e=c.numNonPassiveHandlers==0;e!=c.options.passive&&(c.domHandlerRemover.remove(),c.options.passive=e,c.domHandlerRemover=b("DOMEventListener").add(a,d,c.domHandler,{passive:e}))},q=function(a,c,d,e){if(d in c)return;var f=b("TimeSlice").guard(t.bind(a,d),b("dedupString")("Event listenHandler "+d));c[d]={numHandlers:0,numNonPassiveHandlers:0,domHandlerRemover:b("DOMEventListener").add(a,d,f,e),domHandler:f,options:e};c="on"+d;if(a[c]){f=a===document.documentElement?Event.Priority._BUBBLE:Event.Priority.TRADITIONAL;var g=a[c];a[c]=null;Event.listen(a,d,g,f,e)}};function r(a){return!a.href.endsWith("#")?!1:a.href===document.location.href||a.href===document.location.href+"#"}function s(a,b){return a.nodeName==="INPUT"&&a.type===b}var t=b("EventProfiler").__wrapEventListenHandler(function(a,c){c=m(c);if(!b("DataStore").get(this,j))throw new Error("Bad listenHandler context.");var d=b("DataStore").get(this,j)[a];if(!d)throw new Error("No registered handlers for `"+a+"'.");if(a=="click"||a=="contextmenu"||a=="mousedown"&&c.which==2){a=c.getTarget();var e=b("Parent").byTag(a,"a");e instanceof HTMLAnchorElement&&e.href&&r(e)&&!s(a,"file")&&!s(a,"submit")&&c.prevent()}e=Event.getPriorities();for(a=0;a<e.length;a++){var f=e[a];if(f in d){f=d[f];for(var g=0;g<f.length;g++){if(!f[g])continue;var h=f[g].fire(this,c);if(h===!1)return c.kill();else c.cancelBubble&&c.stop()}}}return c.returnValue});Event.Priority={URGENT:-20,TRADITIONAL:-10,NORMAL:0,_BUBBLE:1e3};var u=function(){"use strict";function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$7=d,this.$6=e,this.$4=f,this.$5=g}var c=a.prototype;c.isRemoved=function(){return!this.$3};c.remove=function(){if((g||(g=b("ExecutionEnvironment"))).canUseDOM){if(this.isRemoved()){b("FBLogger")("Event").warn("Event handler has already been removed");return}var a=this.$3[this.$7];a.numHandlers<=1?(a.domHandlerRemover.remove(),delete this.$3[this.$7]):(delete a[this.$6][this.$4],a.numHandlers--,this.$5.passive||(a.numNonPassiveHandlers--,p(this.$1,this.$3[this.$7],this.$7)));this.$3=null}};c.fire=function(a,c){return(g||(g=b("ExecutionEnvironment"))).canUseDOM?(h||(h=b("ErrorGuard"))).applyWithGuard(this.$2,a,[c],{name:"eventhandler:"+c.type+":"+(typeof a.name=="string"?a.name:a.id)}):!0};return a}();a.$E=Event.$E=m;e.exports=Event}),null);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("TrustedTypesIEFixDOMPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){return a}};b=c("TrustedTypes").createPolicy("dom-ie-fix",a);d=b;g["default"]=d}),98);
__d("UserAgent_DEPRECATED",[],(function(a,b,c,d,e,f){var g=!1,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;function x(){if(g)return;g=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);s=/\b(iPhone|iP[ao]d)/.exec(a);t=/\b(iP[ao]d)/.exec(a);q=/Android/i.exec(a);u=/FBAN\/\w+;/i.exec(a);v=/FBAN\/mLite;/i.exec(a);w=/Mobile/i.exec(a);r=!!/Win64/.exec(a);if(b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN;h&&document&&document.documentMode&&(h=document.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h;i=b[2]?parseFloat(b[2]):NaN;j=b[3]?parseFloat(b[3]):NaN;k=b[4]?parseFloat(b[4]):NaN;k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):NaN):l=NaN}else h=i=j=l=k=NaN;if(c){if(c[1]){d=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=d?parseFloat(d[1].replace("_",".")):!0}else n=!1;o=!!c[2];p=!!c[3]}else n=o=p=!1}function y(){return x()||h}function a(){return x()||m>h}function b(){return y()&&r}function c(){return x()||i}function d(){return x()||j}function z(){return x()||k}function e(){return z()}function A(){return x()||l}function B(){return x()||o}function C(){return x()||n}function D(){return x()||p}function E(){return x()||s}function F(){return x()||s||t||q||w}function G(){return x()||v!=null?null:u}function H(){return x()||q}function I(){return x()||t}f.ie=y;f.ieCompatibilityMode=a;f.ie64=b;f.firefox=c;f.opera=d;f.webkit=z;f.safari=e;f.chrome=A;f.windows=B;f.osx=C;f.linux=D;f.iphone=E;f.mobile=F;f.nativeApp=G;f.android=H;f.ipad=I}),66);
__d("isScalar",[],(function(a,b,c,d,e,f){function a(a){return/string|number|boolean/.test(typeof a)}f["default"]=a}),66);
__d("DOM",["$","DOMQuery","Event","FBLogger","FbtResultBase","HTML","TrustedTypesIEFixDOMPolicy","UserAgent_DEPRECATED","createArrayFromMixed","fb-error","isNode","isScalar","isTextNode"],(function(a,b,c,d,e,f,g){a=function(a,b,c){a=document.createElement(a);b&&h.setAttributes(a,b);c!=null&&h.setContent(a,c);return a};var h={find:(b=d("DOMQuery")).find,findPushSafe:b.findPushSafe,scry:b.scry,getSelection:b.getSelection,contains:b.contains,getRootElement:b.getRootElement,isNodeOfType:b.isNodeOfType,isInputNode:b.isInputNode,create:a,setAttributes:function(a,b){b.type&&(a.type=b.type);for(var d in b){var e=b[d],f=/^on/i.test(d);f&&typeof e!=="function"&&c("FBLogger")("dom").warn("Handlers passed to DOM.setAttributes must be functions. Handler passed for %s was %s",d,typeof e);if(d=="type")continue;else d=="style"?typeof e==="string"?a.style.cssText=e:Object.assign(a.style,e):f?c("Event").listen(a,d.substr(2),e):d in a?a[d]=e:a.setAttribute&&a.setAttribute(d,e)}},prependContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.firstChild?a.insertBefore(b,a.firstChild):a.appendChild(b)})},insertAfter:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){a.nextSibling?d.insertBefore(b,a.nextSibling):d.appendChild(b)})},insertBefore:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.insertBefore(b,a)})},setContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));while(a.firstChild)i(a.firstChild);return h.appendContent(a,b)},appendContent:function(a,b){if(!a)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element is not a node"));return j(b,a,function(b){a.appendChild(b)})},replace:function(a,b){if(!a||!a.parentNode)throw c("fb-error").TAAL.blameToPreviousFile(new Error("reference element does not have a parent"));var d=a.parentNode;return j(b,d,function(b){d.replaceChild(b,a)})},remove:function(a){i(typeof a==="string"?c("$")(a):a)},empty:function(a){a=typeof a==="string"?c("$")(a):a;while(a.firstChild)i(a.firstChild)}};function i(a){a.parentNode&&a.parentNode.removeChild(a)}function j(a,b,e){a=c("HTML").replaceJSONWrapper(a);if(a instanceof c("HTML")&&b.firstChild===null&&-1===a.toString().indexOf("<script")){var f=d("UserAgent_DEPRECATED").ie();if(!f||f>7&&!d("DOMQuery").isNodeOfType(b,["table","tbody","thead","tfoot","tr","select","fieldset"])){var g=f?'<em style="display:none;">&nbsp;</em>':"";b.innerHTML=c("TrustedTypesIEFixDOMPolicy").createHTML(g+a);f&&b.removeChild(b.firstChild);return Array.from(b.childNodes)}}else if(c("isTextNode")(b)){b.data=a;return[a]}g=document.createDocumentFragment();var h;f=[];b=[];var i=!1;a=c("createArrayFromMixed")(a);a.length===1&&a[0]instanceof c("FbtResultBase")&&(a=a[0].getContents());for(var j=0;j<a.length;j++){h=c("HTML").replaceJSONWrapper(a[j]);if(h instanceof c("HTML")){b.push(h.getAction());var k=h.getNodes();!i&&h.hasInlineJs()&&(c("FBLogger")("staticresources").warn("DOM: adding HTML which contains inline JS"),i=!0);for(var l=0;l<k.length;l++)f.push(k[l]),g.appendChild(k[l])}else if(c("isScalar")(h)||h instanceof c("FbtResultBase")){l=document.createTextNode(h);f.push(l);g.appendChild(l)}else c("isNode")(h)?(f.push(h),g.appendChild(h)):(Array.isArray(h)&&c("FBLogger")("dom").warn("Nest arrays not supported"),h!==null&&c("FBLogger")("dom").warn("No way to set content %s",h))}e(g);b.forEach(function(a){a()});return f}e=h;g["default"]=e}),98);
__d("goURIWWW",["URI"],(function(a,b,c,d,e,f,g){"use strict";var h;g["default"]=(h||c("URI")).go}),98);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);/*FB_PKG_DELIM*/
__d("WABaseGlobals",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a}function i(){if(h==null)throw c("WAErr")("Trying to access WAGlobals before being set");return h}function b(a){var b=i();b.myJids=a}function d(){var a;a=(a=i().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=i().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return i().db}function j(){return i().jidUtils}function k(){return i().config}function l(){return i().qpl}function m(a,b){return i().runInTransaction(a,b)}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=d;g.getMyUserJid=e;g.getDbImpls=f;g.getJidUtilsApi=j;g.getConfig=k;g.getQplConfig=l;g.runInTransaction=m}),98);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,n="@msgr",ba="msgr",o="@interop",ca="interop",da="@call",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",w="lid",ga="@call",x="@newsletter",y=/^([1-9][0-9]{0,19})@newsletter$/,z=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,A=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,B="@lid",ha="lid",C=/^([1-9][0-9]{0,14})@lid$/,D=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ia="@broadcast",E=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,F=/^([0-9a-fA-F]{18,32})@call$/,G="@hosted",H="hosted",I=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,J="@hosted.lid",K="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+B}function M(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(x)?a:""+a+x}function f(a){return a.endsWith(G)?a:""+a+G}function la(a){return a.endsWith(J)?a:""+a+J}function ma(){return l}function N(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(B))return a.slice(0,-B.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function na(a,b){return Y(N(a)+":"+b+u)}function oa(a,b){return Z(N(a)+":"+b+n)}function O(a,b){return vb(Q(a)+":"+b+B)}function pa(a,b){return X(N(a)+":"+b+qb(a))}function qa(a){return""+a+ia}function P(a){return a.split("@")[0]}function ra(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function sa(a){a=ra(a);return a.deviceID}function ta(a,b){if(a===i||a===j)return b;else return P(a)}function ua(a){return a===i||a===j?null:a}function va(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function wa(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function xa(a){if(a.endsWith(u))return wa(a);else if(a.endsWith(B))return Q(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function ya(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(B)?a:null}function za(a){return a.endsWith(u)?a:null}function Aa(a){return a===k?null:$(a)}function Ba(a){return a===k?null:$(a)}function Ca(a){return a===k?k:null}function Q(a){if(!a.endsWith(B))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-B.length)}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===H&&(a=v);a===K&&(a=w);return wb(b+"@"+a)}function Da(a){return R(a)}function Ea(a){return R(a)}function Fa(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else{a.jidType;return a.broadcastJid}}function Ga(a){return Y(N(a)+":"+h+u)}function Ha(a){return Z(N(a)+":"+h+n)}function Ia(a){return O(a,h)}function Ja(a){return sa(a)===h}function Ka(a){return Ab(a)}function La(a){return a}function S(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Ma(a){a=S(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Na(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Oa(a){if(a===k)return{jidType:"status",statusJid:k};else if(A.test(a))return{jidType:"phoneUser",userJid:xb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:yb(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:zb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:M(b)}}else if(z.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:ub(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(E.test(a))return{jidType:"broadcast",broadcastJid:a};else if(F.test(a))return{jidType:"call",callJid:a};else if(C.test(a))return{jidType:"lidUser",userJid:a};else if(D.test(a))return{jidType:"lidDevice",deviceJid:a};else if(y.test(a))return{jidType:"newsletter",newsletterJid:a};else if(I.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else return{jidType:"unknown"}}function Pa(a){return a==="status@broadcast"?a:null}function Qa(a){if(A.test(a)||q.test(a)||s.test(a)||C.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return M(a)}else return null}function Ra(a){return E.test(a)?a:null}function Sa(a){if(z.test(a)||r.test(a)||p.test(a)||D.test(a)||I.test(a)||L.test(a))return a;return A.test(a)?rb(a):null}function Ta(a){return p.test(a)?a:null}function T(a){return m.test(a)?a:null}function Ua(a){return Pa(a)||T(a)||Ra(a)?a:null}function Va(a){return F.test(a)?a:null}function Wa(a){return a==="s.whatsapp.net"||a==="g.us"?a:null}function Xa(a){return Qa(a)||T(a)}function Ya(a){return y.test(a)?a:null}function Za(a){return I.test(a)?a:null}function $a(a){return L.test(a)?a:null}function ab(a){return ya(a)==null?$(a):null}function bb(a){a=S(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function cb(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function db(a){var b=Oa(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Na(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function eb(a){return!a.includes("@")?a:a.replace(ka,db)}function U(a){if(a.endsWith(l))return $(a);else return null}function V(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(B))return b.lidUser(a);else if(U(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function fb(a,b){if(a.endsWith(n))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function W(a,b){if(a.endsWith(u))return b.user(a);else if(U(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function gb(a,b){return V(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function hb(a,b){return a===k?b.status():W(a,{user:b.user,group:b.group})}function ib(a,b){return a===k?b.status():V(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function jb(a,b){return a===k?b.multicast(k):W(a,{user:b.user,group:b.multicast})}function kb(a){return a.endsWith(B)}function lb(a){return a==="@me"}function mb(a){return a==="@system"}function nb(){return n}function ob(){return u}function pb(){return ea}function qb(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(B))return B;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function rb(a){return X(N(a)+":"+h+qb(a))}function sb(a){a=a.platform;var b=a==="msgr"?n:u,c=a==="msgr"?da:ga;function d(a){return""+a+b}function e(){return b}function f(){return c}return{toUserJid:d,getUserDomain:e,getGroupCallDomain:f}}function tb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function ub(a){return a}function vb(a){return a}function wb(a){return a}function xb(a){return a}function yb(a){return a}function zb(a){return a}function $(a){return a}function Ab(a){return a}function Bb(a){return a}function Cb(a){return a}function Db(a){return a}function Eb(a){return V(a,{group:function(a){return cb(a)},lidUser:function(a){return N(a)},interopUser:function(a){return N(a)},phoneUser:function(a){return N(a)},msgrUser:function(a){return N(a)}})}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ba;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=ca;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_LID_SUFFIX=w;g.WA_NEWSLETTER_JID_DOMAIN=x;g.LID_DOMAIN=B;g.LID_SUFFIX=ha;g.HOSTED_DOMAIN=G;g.HOSTED_SUFFIX=H;g.HOSTED_LID_DOMAIN=J;g.HOSTED_LID_SUFFIX=K;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=M;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=la;g.getGroupDomain=ma;g.userIdFromJid=N;g.toPhoneDeviceJid=na;g.toMsgrDeviceJid=oa;g.toLidDeviceJid=O;g.toDeviceJid=pa;g.toBroadcastJid=qa;g.extractUserId=P;g.extractDeviceIDParts=ra;g.extractDeviceId=sa;g.authorToUserId=ta;g.authorAsUserJid=ua;g.authorAsPhoneUserJid=va;g.phoneNumberFromJid=wa;g.lidOrPhoneFromUserJid=xa;g.interpretAsUserJid=ya;g.interpretAsPhoneUserJid=za;g.asChatJid=Aa;g.asPhoneChatJid=Ba;g.asStatusJid=Ca;g.lidFromLidUserJid=Q;g.extractUserJid=R;g.extractPhoneUserJid=Da;g.extractLidUserJid=Ea;g.extractJidFromJidWithType=Fa;g.defaultPhoneDeviceJidForUser=Ga;g.defaultMsgrDeviceJidForUser=Ha;g.defaultLidDeviceJidForLidUserJid=Ia;g.isPrimaryDevice=Ja;g.interpretAsDeviceId=Ka;g.interpretAsNumber=La;g.parseJidParts=S;g.fullFormDeviceJidString=Ma;g.extractFromJid=Na;g.interpretAndValidateJid=Oa;g.validateStatusJid=Pa;g.validateUserJid=Qa;g.validateBroadcastJid=Ra;g.validateDeviceJid=Sa;g.validateInteropDeviceJid=Ta;g.validateGroupJid=T;g.validateMulticastJid=Ua;g.validateCallJid=Va;g.validateDomainJid=Wa;g.validateChatJid=Xa;g.validateNewsletterJid=Ya;g.validateHostedDeviceJid=Za;g.validateHostedLidDeviceJid=$a;g.asMulticastJid=ab;g.stripAgentIdFromPhoneDeviceJid=bb;g.groupIdFromJid=cb;g.sanitizeJidForLogging=db;g.maybeSanitizeLogLineText=eb;g.interpretAsGroupJid=U;g.switchOnChatJidType=V;g.switchOnMsgrChatJidType=fb;g.switchOnPhoneChatJidType=W;g.switchOnUserChatJidType=gb;g.switchOnPhoneJidType=hb;g.switchOnJidType=ib;g.switchOnMulticastJidType=jb;g.isLidUser=kb;g.isAuthorMe=lb;g.isAuthorSystem=mb;g.getMsgrUserDomain=nb;g.getWhatsappUserDomain=ob;g.getServerDomain=pb;g.defaultDeviceJidForUser=rb;g.createJidUtils=sb;g.unsafeCoerceToChatJid=tb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=ub;g.unsafeCoerceToLidDeviceJid=vb;g.unsafeCoerceToUserJid=wb;g.unsafeCoerceToPhoneUserJid=xb;g.unsafeCoerceToInteropUserJid=yb;g.unsafeCoerceToMsgrUserJid=zb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=Ab;g.unsafeCoerceToNewsletterJid=Bb;g.unsafeCoerceToHostedDeviceJid=Cb;g.unsafeCoerceToHostedLidDeviceJid=Db;g.threadIdForChatJid=Eb}),98);
__d("WAGlobals",["WABaseGlobals","WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a,d("WABaseGlobals").setGlobals(a)}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function b(a,b){var d=j();if(d.myJids!=null)throw c("WAErr")("Trying to set UserJid and DeviceJid but they are already set");d.myJids={userJid:a,deviceJid:b}}function k(){var a;a=(a=j().myJids)==null?void 0:a.deviceJid;if(a==null)throw c("WAErr")("Trying to access myDeviceJid, but it's not set");return a}function e(){var a;a=(a=j().myJids)==null?void 0:a.userJid;if(a==null)throw c("WAErr")("Trying to access myUserJid, but it's not set");return a}function f(){return j().db}function l(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function m(){return j().jidUtils}function n(){return j().crypto.manager}function o(){return j().config}function p(){return j().dependencies}function q(a,b,c){return j().runInTransaction(a,b,c)}var r="WAOneQueue is not defined";function s(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),r);throw c("WAErr")(r)}return a}g.setGlobals=a;g.setMyJids=b;g.getMyDeviceJid=k;g.getMyUserJid=e;g.getDbImpls=f;g.isPeerDevice=l;g.getJidUtilsApi=m;g.DEPRECATED_getCryptoManager=n;g.getConfig=o;g.getDependencies=p;g.runInTransaction=q;g.getWaOneQueue=s}),98);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_PRIVATE_THREAD:41,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,WA_GENAI_BOT_MAILBOX_THREAD:57,MESSENGER_GENAI_BOT_MAILBOX_THREAD:58,IG_GENAI_BOT_MAILBOX_THREAD:59,E2EE_COMMUNITY_CHAT_METADATA:60,IG_SUBSCRIBER_SOCIAL_CHANNEL:61,IG_SOCIAL_CHANNEL:62,GENERIC_GENAI_BOT_MAILBOX_THREAD:63,GENAI_IMAGINE:64,FB_GENAI_BOT_MAILBOX_THREAD:65,ABRA_GENAI_BOT_MAILBOX_THREAD:66,GENAI_STUDIO_BOT_MAILBOX_THREAD:67,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,IG_CREATOR_AGENT_SANDBOX:1013,IG_USER_GENERATED_AI_BOT_ONE_TO_ONE:1014,OCULUS:2001});f["default"]=a}),66);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","MWCMIsAnyCMThread","MessagingThreadSubtype","MetaConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function b(a){return j(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function k(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))}function e(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function f(a){return a==="e2ee_cutover"||a==="inbox"}function l(a,b){b===void 0&&(b=!0);return!b&&(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(0))?!1:d("LSThreadBitOffset").has(21,a)}function m(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IGD_BC_PARTNERSHIP))}function n(a){return l(a,!1)}function o(a){return(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3))}function p(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function q(a){var b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2)),c=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!K(a);return!p(a.threadSubtype)&&(b||c)}function r(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))}function s(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function t(a){return(v(a)||w(a))&&c("MetaConfig")._("32")}function u(a){return(v(a)||w(a))&&!c("MetaConfig")._("32")}function v(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))}function w(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))}function x(a){return((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))&&c("MetaConfig")._("36")}function y(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function z(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))}function A(a){return z(a)||t(a)}function B(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function C(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))}function D(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))}function E(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))}function F(a){return a==null?!1:E(a)||w(a)}function G(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function H(a){return d("LSThreadBitOffset").has(183,a)}function I(a){return k(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(11))}function J(a){return A(a)||E(a)||w(a)||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))||B(a)}function K(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&a.cannotUnsendReason!=null&&(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD))}function L(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKROOM_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_ONE_TO_ONE)))}g.isGroup=a;g.isOpenOneToOne=j;g.isOneToOne=b;g.isSecure=k;g.isRecentsSectionAllowedTypes=e;g.isMessengerOrE2EEInbox=f;g.isMessageRequest=l;g.isPartnership=m;g.isIGDMessageRequest=n;g.isHiddenRequest=o;g.isBusinessSupportThread=p;g.isOpenFnFThread=q;g.isPageToUserThread=r;g.isJoinedSocialChannel=s;g.isDiscoverablePublicBroadcastChannel=t;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=u;g.isJoinedDiscoverablePublicBroadcastChannel=v;g.isUnjoinedDiscoverablePublicBroadcastChannel=w;g.isSocialChannelV2=x;g.isJoinedSocialChannelV2=y;g.isSocialChannel=z;g.isDiscoverableChannel=A;g.isCMSubthread=B;g.isCMFolder=C;g.isCMGroupUnjoined=D;g.isSocialChannelUnjoined=E;g.isChannelPreview=F;g.isAiBot=G;g.isAiBotSummoning=H;g.isPrivateThread=I;g.isPublicCMThread=J;g.isThreadForPage=K;g.isWorkThread=L}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("MAWDbChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return(h||(h=d("I64"))).of_float(a)}function c(a){return(h||(h=d("I64"))).to_float(a)}function e(a,b){return a+"_"+b}g.unsafeCoerceToChatId=a;g.convertToChatId64=b;g.convertToChatId=c;g.craftAltIndex=e}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return Z(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){return a==null?a:a>t?y(a):x(a)}function A(){return B($()-w*1e3)}function B(a){return a}function C(a){return a}function D(a){return B(a*1e3)}function E(a){return a<u||a>t}function F(a,b){var c=K();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function G(a,b){b=b!=null?b:K();return x(Math.ceil(b+Math.max(a,0)))}function H(a,b){b=b!=null?b:K();return x(Math.ceil(b-Math.max(a,0)))}function I(a){a=Math.max(a-K(),0);return Math.min(1e3*a,~(1<<31))}function J(a){var c=I(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function K(){return x(Date.now()/1e3-w)}function L(){return x(Date.now()/1e3)}function M(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function N(a){return x(Z(a).setHours(0,0,0,0)/1e3-w)}function O(){return Date.now()-w*1e3}function P(a){return Math.max(a-K(),0)}function Q(a){return P(a)>0}function R(){return performance.now()}function S(a){return Math.floor(performance.now()-a)}function T(a,b){return a<b?a:b}var U=function(){function a(){var a=R();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=R()};b.elapsed=function(){return S(this.$2)};b.cumulative=function(){return S(this.$1)};return a}();function V(a){return Math.max(K()-a,0)}function W(){return new Date()}function X(a,b,c){return Math.abs(a-b)<=c}function Y(a,b){return X(K(),a,b)}function Z(a){return new Date(a*1e3)}function aa(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:Z(a+w).getDay();var c=v.time===b?v.day:Z(b+w).getDay();v.time=b;v.day=c;return a===c}function ba(a){a=a-K();return a<=l}function ca(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function $(){return Date.now()}function da(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castMillisTimeToUnixTime=z;g.millisTime=A;g.castToMillisTime=B;g.fromMillisTime=C;g.castUnixTimeToMillisTime=D;g.isOverflowTime=E;g.timeoutFor=F;g.futureUnixTime=G;g.pastUnixTime=H;g.cappedMillisecondsUntil=I;g.delayUntil=J;g.unixTime=K;g.unixTimeWithoutClockSkewCorrection=L;g.midnight=M;g.midnightOn=N;g.unixTimeMs=O;g.secondsUntil=P;g.isInFuture=Q;g.monotonicTime=R;g.monotonicTimeSince=S;g.oldest=T;g.MonotonicTimer=U;g.timeSince_USE_ONLY_IF_APPROVED=V;g.unskewedDate_USE_ONLY_IF_APPROVED=W;g.happenedWithinAt=X;g.happenedWithin=Y;g.toDate=Z;g.sameDay=aa;g.isWithinNext24h=ba;g.convertHexToDate=ca;g.performanceAbsoluteNow=$;g.daysDiff=da}),98);/*FB_PKG_DELIM*/
__d("CometUserActivity",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3,i=500,j=-5,k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1,v=new(c("BaseEventEmitter"))();function b(a){var b=w(function(c,d){b.unsubscribe(),a(d)});return b}function w(a){var b=v.addListener("user_activity",function(b){return a("user_activity",b)});return{unsubscribe:function(){return b.remove()}}}function d(a){return new Date().getTime()-k<(a!=null?a:h)}function e(){return o}function f(){return m}function x(){o=!0,m=!1}function y(){return n}function z(){return k}function A(a){p=a}function B(){return q}function C(){return t}function D(){return u}function E(){return l}function F(){k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1}function G(a){a.unsubscribe()}function H(a){J(a,i)}function I(a){J(a,0)}function J(b,c){c===void 0&&(c=0);var d=a.MouseEvent,e=a.KeyboardEvent;if(d&&b instanceof d){if(/^mouse(enter|leave|move|out|over)$/.test(b.type)&&b.pageX==r&&b.pageY==s)return;r=b.pageX;s=b.pageY}else e&&b instanceof e&&(u=!0);(b.type==="click"||b.type==="dblclick"||b.type==="contextmenu")&&(t=!0);k=Date.now();d=k-l;d>=c?(l=k,o||(q=k),d>=(p||h)&&(m=!0,n=k),v.emit("user_activity",{event:b,idleness:d,last_inform:l})):d<j&&(l=k)}function K(a){o=!0,n=Date.now(),I(a)}function L(){o=!1,m=!0,q=Date.now()}window.addEventListener("scroll",H,{capture:!0,passive:!0});window.addEventListener("focus",K,{capture:!1,passive:!0});window.addEventListener("blur",L,{capture:!1,passive:!0});(function(){var a=document.documentElement;if(a==null)return;["keydown","mouseover","mousemove","click"].forEach(function(b){a.addEventListener(b,H,{capture:!0,passive:!0})})})();g.EVENT_INTERVAL_MS=i;g.subscribeOnce=b;g.subscribe=w;g.isActive=d;g.isOnTab=e;g.hasBeenInactive=f;g.resetActiveStatus=x;g.getLastInActiveEnds=y;g.getLastActive=z;g.setIdleTime=A;g.getLastLeaveTime=B;g.hasClicked=C;g.hasInteractedWithKeyboard=D;g.getLastInformTime=E;g.reset=F;g.unsubscribe=G}),98);
__d("IGDSCommentPanoFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSSaveFilledIcon.react",["IGDSSavePanoFilledIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSSavePanoFilledIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisClipsPagePhoto.react",["fbt","PolarisPhoto.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m={image:{alignItems:"x1qjc9v5",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",fontSize:"xk390pu",height:"x18dl8mb",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",width:"xrostsh","@media (max-width: 735px)_height":"x1rrdvvk","@media (max-width: 735px)_width":"x1tgtcet",$$css:!0}};function a(a){var b=k(8),d=a.itemThumbnail;a=a.xstyle;var e;b[0]!==a?(e=(i||(i=c("stylex")))(m.image,a),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("Item image"),b[2]=a):a=b[2];b[3]!==d?(a=l.jsx(c("PolarisPhoto.react"),{accessibilityCaption:a,setCrossOriginToUndefinedDONOTUSE:!0,src:d}),b[3]=d,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(d=l.jsx("div",{className:e,children:a}),b[5]=e,b[6]=a,b[7]=d):d=b[7];return d}g["default"]=a}),226);
__d("PolarisSentryFeedbackDialog.react",["IGWebBloksApp","PolarisConfirmDialog.react","PolarisGenericStrings","PolarisNavigationStrings","PolarisReactRedux.react","PolarisSentryFeedbackActions","WebBloksCallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.handleReport=function(){c.props.modal&&c.props.modal.url&&c.props.modal.action&&(c.props.modal.action==="report_problem"?c.props.onReport(c.props.modal.url):c.props.modal.action==="open_request_form"&&c.props.onOpenForm(c.props.modal.url))},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props,b=a.modal;a=a.onConfirm;if(!b)return null;if(b.action==="open_bio_takedown_restriction"){var e={feedback_action:b.action,feedback_appeal_label:b.feedback_appeal_label,feedback_message:b.message,feedback_title:b.title,restriction_enrollment_data:b.restriction_enrollment_data},f=new Map([["onClickWebCallback",new(d("WebBloksCallback").WebBloksCallback)(null,null,null,function(){return window.location.reload()})]]);return i.jsx(c("IGWebBloksApp"),{appId:"com.bloks.www.instagram.igwb.exp.enforcement.dialog",params:e,props:f})}return i.jsx(c("PolarisConfirmDialog.react"),{body:b.message,cancelLabel:d("PolarisGenericStrings").OK_TEXT,confirmLabel:d("PolarisNavigationStrings").REPORT_PROBLEM_TEXT,onClose:a,onConfirm:this.handleReport,title:b.title})};return b}(i.PureComponent);function a(a){return{modal:a.sentryFeedback.modal}}function b(a){return{onConfirm:function(){return a(d("PolarisSentryFeedbackActions").dismissSentryFeedback())},onOpenForm:function(b){return a(d("PolarisSentryFeedbackActions").openForm(b))},onReport:function(b){return a(d("PolarisSentryFeedbackActions").reportProblem(b))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisLoggedOutIntentDialog.react",["fbt","IGDSBox.react","IGDSCommentPanoFilledIcon.react","IGDSDirectPanoFilledIcon.react","IGDSHeartFilledIcon.react","IGDSSaveFilledIcon.react","IGDSText.react","PolarisAppsellUnit.react","PolarisAssetManagerGlyphMapping","PolarisClipsPagePhoto.react","PolarisIGCoreIcon.react","PolarisIGCoreSheetOrModal","PolarisLoggedOutCtaLogger","PolarisLoggedOutLoginConstants","PolarisLoggedOutLoginOrSignupRow.react","PolarisNavigationActions","PolarisReactRedux.react","PolarisStoriesContext","PolarisUserAvatar.react","cr:1954","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=e.useEffect,m=e.unstable_useMemoCache,n=72,o=3;function p(a){var b=m(19);a=a.loginSource;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){if(a.navigation.loggedOutIntentThumbnail!=null)return a.navigation.loggedOutIntentThumbnail;return a.navigation.loggedOutIntentUsername!=null?d("polarisUserSelectors").getUserByUsername(a,a.navigation.loggedOutIntentUsername).profilePictureUrl:null},b[0]=e):e=b[0];e=d("PolarisReactRedux.react").useSelector(e);var f,g,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("Instagram"),b[1]=i):i=b[1];i=i;bb9:switch(a){case"post_feedback_comment":f=c("IGDSCommentPanoFilledIcon.react");var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("Comment"),b[2]=k):k=b[2];i=k;break bb9;case"post_feedback_save":f=c("IGDSSaveFilledIcon.react");b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("Save"),b[3]=k):k=b[3];i=k;break bb9;case"reel_feedback_direct":f=c("IGDSDirectPanoFilledIcon.react");b[4]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("Share"),b[4]=k):k=b[4];i=k;break bb9;case"post_feedback_like":case"story_feedback_like":f=c("IGDSHeartFilledIcon.react");b[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._("Like"),b[5]=k):k=b[5];i=k;g="ig-badge"}b[6]!==e||b[7]!==a?(k=e!=null?a==="clips_save_audio"?j.jsx(c("PolarisClipsPagePhoto.react"),{itemThumbnail:e,xstyle:{}}):j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:e,size:n}):j.jsx(c("PolarisIGCoreIcon.react"),{alt:h._("Instagram"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.APP_ICON_45}),b[6]=e,b[7]=a,b[8]=k):k=b[8];a=k;b[9]!==a?(k=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:n,justifyContent:"center",marginBottom:o,position:"relative",children:a}),b[9]=a,b[10]=k):k=b[10];b[11]!==f||b[12]!==e||b[13]!==i||b[14]!==g?(a=f!=null&&e!=null&&j.jsx(c("IGDSBox.react"),{alignItems:"center",bottom:!0,height:24,justifyContent:"center",marginBottom:2,marginStart:1,position:"absolute",right:!0,width:24,children:j.jsx("div",{className:"x1hw97mu xvlca1e",children:j.jsx(f,{alt:i,color:g,size:18})})}),b[11]=f,b[12]=e,b[13]=i,b[14]=g,b[15]=a):a=b[15];b[16]!==k||b[17]!==a?(e=j.jsxs(c("IGDSBox.react"),{marginBottom:o,position:"relative",width:n,children:[k,a]}),b[16]=k,b[17]=a,b[18]=e):e=b[18];return e}function a(){var a=m(32),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return c("nullthrows")(a.navigation.loggedOutIntentSource)},a[0]=e):e=a[0];e=d("PolarisReactRedux.react").useSelector(e);var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a.navigation.pageIdentifier},a[1]=f):f=a[1];var g=d("PolarisReactRedux.react").useSelector(f);f=(f=d("PolarisReactRedux.react").useSelector(function(a){return a.navigation.displayedRoute}))!=null?f:window.location.href;var h=d("PolarisReactRedux.react").useDispatch(),i;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(a){return a.navigation.loggedOutIntentUsername},a[2]=i):i=a[2];i=d("PolarisReactRedux.react").useSelector(i);var n=d("PolarisLoggedOutLoginConstants").getContentTextFromIntentSource(e,i);i=d("PolarisLoggedOutLoginConstants").getContentSubtextFromIntentSource(e,i);var o,q;a[3]!==g?(o=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent(babelHelpers["extends"]({ctaType:"intent_dialog",ctaVersion:"",eventName:"impression"},g!=null&&{module:g}))},q=[g],a[3]=g,a[4]=o,a[5]=q):(o=a[4],q=a[5]);l(o,q);o=k(d("PolarisStoriesContext").StoriesContext);var r=o.updateStoriesContext;a[6]!==h||a[7]!==r?(q=function(){h(d("PolarisNavigationActions").closeLoggedOutIntentDialog()),r({isLoggedOutIntentDialogActive:!1,isPaused:!1})},a[6]=h,a[7]=r,a[8]=q):q=a[8];o=q;a[9]!==e?(q=j.jsx(p,{loginSource:e}),a[9]=e,a[10]=q):q=a[10];var s;a[11]!==n?(s=j.jsx(c("IGDSBox.react"),{marginBottom:3,width:"100%",children:j.jsx(c("IGDSText.react").Title,{textAlign:"center",children:n})}),a[11]=n,a[12]=s):s=a[12];a[13]!==i?(n=j.jsx(c("IGDSBox.react"),{marginBottom:5,width:"100%",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:i})}),a[13]=i,a[14]=n):n=a[14];if(a[15]!==g){i=b("cr:1954")?j.jsx(b("cr:1954"),{ctaType:"intent_dialog"}):j.jsx(c("PolarisAppsellUnit.react"),{appInstallCampaign:(i=g)!=null?i:"",hideText:!0});a[15]=g;a[16]=i}else i=a[16];var t;a[17]!==i?(t=j.jsx(c("IGDSBox.react"),{width:"100%",children:i}),a[17]=i,a[18]=t):t=a[18];a[19]!==f||a[20]!==e||a[21]!==g?(i=j.jsx(c("PolarisLoggedOutLoginOrSignupRow.react"),{ctaType:"intent_dialog",loginReturnPath:f,loginSource:e,pageIdentifier:g}),a[19]=f,a[20]=e,a[21]=g,a[22]=i):i=a[22];a[23]!==q||a[24]!==s||a[25]!==n||a[26]!==t||a[27]!==i?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",marginBottom:2,paddingX:4,paddingY:3,width:"100%",children:[q,s,n,t,i]}),a[23]=q,a[24]=s,a[25]=n,a[26]=t,a[27]=i,a[28]=f):f=a[28];a[29]!==o||a[30]!==f?(e=j.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{canMaximize:!1,canMinimize:!0,"data-testid":void 0,onClose:o,children:f}),a[29]=o,a[30]=f,a[31]=e):e=a[31];return e}g["default"]=a}),226);
__d("InstagramWebLoggedInCtaFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4530");b=d("FalcoLoggerInternal").create("instagram_web_logged_in_cta",a);e=b;g["default"]=e}),98);
__d("PolarisLoggedInCtaFalcoEvent",["InstagramWebLoggedInCtaFalcoEvent","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return babelHelpers["extends"]({},d("PolarisLogger").getExtra(a),{objid:d("PolarisLoggerUtils").trimAndSanitizeUrl(window.location.href)})}a={log:function(a){var b=babelHelpers["extends"]({},h(a())),e=d("PolarisPigeonLogger").getState();c("InstagramWebLoggedInCtaFalcoEvent").log(function(){return babelHelpers["extends"]({},b,{pigeon_session_id:e.session.sessionID})})}};b=a;g["default"]=b}),98);
__d("PolarisLoggedInCtaLogger",["PolarisConfig","PolarisLoggedInCtaFalcoEvent","PolarisMonitorErrors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.containermodule,e=a.ctaType,f=a.ctaVersion,g=a.eventName;if(d("PolarisConfig").isLoggedIn())if(typeof navigator.getInstalledRelatedApps==="function"&&window.top===window)return navigator.getInstalledRelatedApps().then(function(a){var d=!1,h=!1;for(var a=a,i=Array.isArray(a),j=0,a=i?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=a.length)break;k=a[j++]}else{j=a.next();if(j.done)break;k=j.value}k=k;k.id==="com.instagram.lite"?d=!0:k.id==="com.instagram.android"&&(h=!0)}c("PolarisLoggedInCtaFalcoEvent").log(function(){return{containermodule:b,cta_event_name:g,cta_type:e,cta_version:f,is_ig4a_installed:h,is_iglite_installed:d}})})["catch"](function(a){d("PolarisMonitorErrors").logError(a),c("PolarisLoggedInCtaFalcoEvent").log(function(){return{containermodule:b,cta_event_name:g,cta_type:e,cta_version:f,is_ig4a_installed:!1,is_iglite_installed:!1}})});else c("PolarisLoggedInCtaFalcoEvent").log(function(){return{containermodule:b,cta_event_name:g,cta_type:e,cta_version:f,is_ig4a_installed:!1,is_iglite_installed:!1}})}g.logLoggedInCtaEvent=a}),98);
__d("UserActivity",["cr:1634616"],(function(a,b,c,d,e,f){e.exports=b("cr:1634616")}),null);
__d("goURI",["cr:8906"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8906")}),98);/*FB_PKG_DELIM*/
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18,FB_ONLY_NOT_ALLOWED_ON_MESSENGER:19,MESSENGER_ONLY_NOT_ALLOWED_ON_FB:20,ADDITIONAL_PROFILE_PLUS:21,GROUP_ANONYMOUS_PROFILE:50,USER_FOR_SUPPORT:51});f["default"]=a}),66);
__d("LSVec",[],(function(a,b,c,d,e,f){"use strict";var g={tag:{value:"ls-array"}};function h(a){return Object.defineProperties([].concat(a),g)}function a(a){return h(a)}function b(a){return Array.from(a)}c={from:h,ofArray:a,toArray:b};f["default"]=c}),66);
__d("LSDict",["I64","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if(a==null)return void 0;var b=(h||(h=d("I64"))).cast(a);return b!=null?JSON.stringify([(h||(h=d("I64"))).to_string(b)]):JSON.stringify(a)}function j(a){if(a==null)return void 0;a=JSON.parse(a);return Array.isArray(a)?(h||(h=d("I64"))).of_string(a[0]):a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return b==null?null:[i(b),a]}).filter(Boolean));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return a==null?void 0:this.$1.get(i(a))};b.set=function(a,b){if(a==null)return this;this.$1.set(i(a),b);return this};b["delete"]=function(a){return a==null?!1:this.$1["delete"](i(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a){var b=this;this.$1.forEach(function(c,d){return a(c,j(d),b)})};b.has=function(a){return a==null?!1:this.$1.has(i(a))};b.entries=function*(){for(var a of this.$1.entries()){var b=a[0],c=a[1];yield [j(b),c]}};b.keys=function(){return c("LSVec").from(Array.from(this.$1.keys()).map(function(a){return j(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],transportKey:a[8],minTimeToSyncTimestampMs:a[9]})},function(d){return b.filter(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[1]=b.i64.cast([-1,4294967295]):(d=a.item,c[1]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["NewTask"," ",b.i64.to_string(c[1])].join(""))}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):b.resolve())})},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSJson",["FBLogger","I64","LSDict","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d=0;d<b.length;d++){var e=b[d];e=e()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c=0;c<b.length;c++){var d=b[c];d=d()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("unrecoverableViolation")("error parsing string","messenger_web_product");if(o[1]!=="")throw c("unrecoverableViolation")("unexpected "+o[1],"messenger_web_product");return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web_product").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.parse=a;g.stringify=k}),98);/*FB_PKG_DELIM*/
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;b=(h||(h=d("I64"))).of_int32(c("qex")._("422")===!0?3:1);e=h.of_int32(0);g.syncParams=a;g.syncChannel=b;g.lastSyncTimestampMs=e}),98);
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:h.ofNumber(1),syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53});f["default"]=a}),66);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("CurrentMessengerUser").getIDorEIMU();yield a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isInstamadillo","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&j.add(95);e=c("gkx")("26392")||c("isInstamadillo")();f=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();var k=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16},{groupId:28,syncParams:JSON.stringify(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:198},e?{groupId:89}:null,e?{groupId:197}:null],l=[].concat(k,[{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),m=[].concat(k,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:5},{groupId:196},{groupId:104},f,c("gkx")("24113")?{groupId:120}:null,c("qex")._("136")||c("gkx")("24114")?{groupId:208}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,c("gkx")("26391")?{groupId:108}:null,c("gkx")("9509")||c("gkx")("9530")?{groupId:145}:null]);function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(i||(i=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||j.has(b.groupId))&&(yield a.network_requests.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(i||(i=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups))),f=e.map(function(a){a=a.groupId;return(i||(i=d("LSIntEnum"))).toNumber(a)});function g(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);(!f.includes(c)||j.has(c))&&(yield a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(i||(i=d("LSIntEnum"))).ofNumber(c)})))});return k.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&g(a)}))});return q.apply(this,arguments)}function r(a){if(a!=null)return a;return c("gkx")("1418")?k:c("CurrentEnvironment").instagramdotcom?l:m}function a(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=r(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield n(a,b);yield p(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return s.apply(this,arguments)}g.e2eeMetadataSyncGroup=f;g.igdSyncGroups=l;g.defaultSyncGroups=m;g.seedDb=a}),98);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o}),98);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","UserTimingUtils","asyncToGeneratorRuntime","cr:4489","cr:665","cr:7000","cr:7351","cr:7471","cr:8659","gkx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:7000"))!=null?e:b("cr:7351"),k=c("gkx")("24158")&&c("gkx")("24149"),l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?yield b("cr:8659")():yield b("cr:7471").createDB();a.debug("Connection established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=k||j==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[j.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),m;function a(){m==null&&(m=(h||(h=c("ExecutionEnvironment"))).isInBrowser?l():new(i||(i=b("Promise")))(function(){}));return m}g.get=a}),98);/*FB_PKG_DELIM*/
__d("IGDDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({Bold:"BOLD",Italic:"ITALIC",Strikethrough:"STRIKETHROUGH",Underline:"UNDERLINE",Invalid:"INVALID"});d=a({Once:"ONCE",Replayable:"REPLAYABLE",Permanent:"PERMANENT"});e=a({ShhMode:"SHH_MODE",DisappearingMessage:"DISAPPEARING_MESSAGE"});b=a({Share:"SHARE",Reply:"REPLY",React:"REACT",Mention:"MENTION"});var g=a({Note:"NOTE",Story:"STORY",Profile:"PROFILE",Clip:"CLIP",Feed:"FEED",Live:"LIVE",Comment:"COMMENT",ReelsAudio:"REELS_AUDIO",MediaNote:"MEDIA_NOTE",StoryHighlight:"STORY_HIGHLIGHT",SocialContext:"SOCIAL_CONTEXT"});a=a({Mention:"MENTION",Reply:"REPLY"});f.TextFormatStyle=c;f.ViewMode=d;f.EphemeralityProductType=e;f.XmsgIgXmaActionType=b;f.XmsgIgReceiverFetchContentType=g;f.XmsgIgReceiverFetchXmaMediaNoteFetchParamsMessageType=a}),66);
__d("LSVerifyThreadExistsV2",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return[c.i64.cast([0,7]),c.i64.cast([0,8]),c.i64.cast([0,13]),c.i64.cast([0,10]),c.i64.cast([0,11]),c.i64.cast([0,16])].some(function(b){return c.i64.eq(a[1],b)})?c.resolve((b=[!1,!1,!1],d[0]=b[0],d[1]=b[1],d[2]=b[2],b)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(f=[!0,!0,!1],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,d[12]=e.threadName,d[11]=e.authorityLevel,d[10]=e.threadType,e.folderName==="other"?(f=[!0,!1,!1],d[7]=f[0],d[8]=f[1],d[9]=f[2],f):(c.i64.eq(d[10],c.i64.cast([0,0]))&&c.i64.eq(d[11],c.i64.cast([0,40]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(d[10],a)})&&c.i64.neq(d[11],c.i64.cast([0,20]))&&((d[12]===""?void 0:d[12])===void 0||c.i64.lt(d[11],c.i64.cast([0,80])))||[c.i64.cast([0,151]),c.i64.cast([0,155]),c.i64.cast([0,153])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,24]),c.i64.cast([0,22]),c.i64.cast([0,19]),c.i64.cast([0,25])].some(function(a){return c.i64.eq(d[10],a)})||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.lt(d[11],c.i64.cast([0,80]))||[c.i64.cast([0,150]),c.i64.cast([0,154]),c.i64.cast([0,152])].some(function(b){return c.i64.eq(a[1],b)})&&c.i64.eq(a[6],c.i64.cast([0,205]))&&(c.i64.eq(e.syncGroup,void 0)||!1)?(b=[!0,!0,!1],d[13]=b[0],d[14]=b[1],d[15]=b[2],b):(c.i64.ge(d[11],a[4])||c.i64.eq(d[11],c.i64.cast([0,20]))&&(c.i64.eq(a[1],c.i64.cast([0,2]))||[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(b){return c.i64.eq(a[1],b)}))?(f=[!1,!1,!1],d[16]=f[0],d[17]=f[1],d[18]=f[2],f):(e=[!0,!1,!0],d[16]=e[0],d[17]=e[1],d[18]=e[2],e),b=[d[16],d[17],d[18]],d[13]=b[0],d[14]=b[1],d[15]=b[2],b),f=[d[13],d[14],d[15]],d[7]=f[0],d[8]=f[1],d[9]=f[2],f),e=[d[7],d[8],d[9]],d[3]=e[0],d[4]=e[1],d[5]=e[2],e)})},function(a){return a=[d[3],d[4],d[5]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(e){return d[0]?(d[3]=new c.Map(),d[3].set("thread_fbid",a[0]),d[3].set("force_upsert",a[5]),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",a[6]),d[3].set("metadata_only",a[7]),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(e){return d[1]?c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[13]=!1:(e=b.item,d[13]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[3]=d[13]}]):(e=b.item,d[3]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,0]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,8650752]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),d[12]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:a[1],syncGroup:a[6],folderName:a[2],lastReadWatermarkTimestampMs:c.i64.cast([0,0]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:a[3],authorityLevel:a[4],capabilities:d[3]?d[9]:d[5],capabilities2:d[3]?d[10]:d[6],capabilities3:d[3]?d[11]:d[7],capabilities4:d[3]?d[12]:d[8],unsendLimitMs:c.i64.cast([-1,4294967295])})},function(e){return[c.i64.cast([0,1]),c.i64.cast([0,201])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[0])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:a[0],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[0],d[13]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,d[13])&&c.i64.lt(b.authorityLevel,a[4])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[0],contactId:d[13],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:a[4],isModerator:!1})}]):c.resolve()}]):c.resolve()},function(b){return d[2]?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[4]})}):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSVerifyThreadRowExistsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;d[3]=b.authorityLevel;return c("LSVerifyThreadRowExistsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisIncomingCallActions",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"ACK_INCOMING_CALL"}}function b(a,b,c,d,e,f){return{avatarUris:e,callerName:f,hasVideo:c,igThreadId:b,serverInfoData:a,threadName:d,type:"UPDATE_INCOMING_CALL"}}f.ackCall=a;f.updateCall=b}),66);
__d("PolarisDirectDeltaHandlers",["invariant","PolarisDirectLogger","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a)}function b(a){return i(a)}function e(a){return i(a)}function i(a){if(a==null)return null;if(typeof a!=="string")return a;var b;a;try{b=j(a)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.stringify_ids_error",{errorMessage:c.message}),b=a}try{b=JSON.parse(b)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.parse_json_error",{errorMessage:c.message}),b=JSON.parse(a)}return b}function j(a){var b=Array.from(a.matchAll(/(id\":)\s*([0-9]+)/gi)),c=0;return b.reduce(function(a,b){var d=new RegExp(b[0]);d.lastIndex=c;a=a.replace(d,b[1]+' "'+b[2]+'"');c=b.index;return a},a)}function f(a){var b=parseInt(a,10);isNaN(b)&&h(0,61446,a);return isNaN(b)?0:b}var k=function(a,b){var e=this;this.$3=c("memoize")(function(){return[{listeners:{replace:e.$1.onHasSeen},regex:/^\/direct_v2\/threads\/(.+)\/participants\/(.+)\/has_seen$/},{listeners:{add:e.$1.onMakeAdmin,remove:e.$1.onRemoveAdmin},regex:/^\/direct_v2\/threads\/(\d+)\/admin_user_ids\/(\d+)$/},{listeners:{add:e.$1.onIndicateTypingActivity},regex:/^\/direct_v2\/threads\/(.+)\/activity_indicator_id\/(.+)$/},{listeners:{add:e.$1.onUpdateEmoji,remove:e.$1.onRemoveEmoji,replace:e.$1.onUpdateEmoji},regex:/^\/direct_v2\/threads\/(\d+)\/items\/(\d+)\/reactions\/likes\/(\d+)$/},{listeners:{add:e.$1.onNewMessage,remove:e.$1.onRemoveMessage,replace:e.$1.onUpdatedMessage},regex:/^\/direct_v2\/threads\/(.+)\/items\/(\d+)$/},{listeners:{replace:e.$1.onUpdateDMSettings},regex:/^\/direct_v2\/threads\/(.+)\/dm_settings$/},{listeners:{remove:e.$1.onRemoveThread,replace:e.$1.onNewThread},regex:/^\/direct_v2\/inbox\/threads\/(.+)$/},{listeners:{replace:e.$1.onUnseenCountChange},regex:/^\/direct_v2\/inbox\/unseen_count$/}]});this.handleDelta=function(a,b){var c=a.op,d=a.path;a=a.value;e.$2.debugTrace("handle_delta_start",{mutationToken:b,op:c,path:d});for(var f=e.$3(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.listeners[c];if(j){i=i.regex.exec(d);i&&(e.$2.debugTrace("handle_delta_match"),j.apply(void 0,[a,b].concat(i.slice(1))))}}e.$2.debugTrace("handle_delta_end")};this.onSeqIdUpdated=function(a){e.$1.onSeqIdUpdated&&e.$1.onSeqIdUpdated(a)};this.onMqttConnectivityChanged=function(a){e.$1.onMqttConnectivityChanged&&e.$1.onMqttConnectivityChanged(a)};this.onIrisConnectivityChanged=function(a,b){e.$1.onIrisConnectivityChanged&&e.$1.onIrisConnectivityChanged(a,b)};this.onResnapshotRequested=function(a){e.$1.onResnapshotRequested&&e.$1.onResnapshotRequested(a)};this.$1=a;this.$2=new(d("PolarisDirectLogger").DirectLogger)("DirectDeltaHandlers",b)};g.parsePartialDeltaEmoji=a;g.parseDMSettings=b;g.parseDeltaItem=e;g.stringifyIds=j;g.parseDeltaNumber=f;g.DirectDeltaHandlers=k}),98);/*FB_PKG_DELIM*/
__d("ScriptPath",["ErrorGuard","SubscriptionList","TimeSlice","WebStorage","isInIframe"],(function(a,b,c,d,e,f){"use strict";var g,h,i="sp_pi",j=1e3*30,k=null,l=null,m=new(b("SubscriptionList"))(),n=null,o=[],p=b("TimeSlice").guard(function(a,c){m.getCallbacks().forEach(function(d){(g||(g=b("ErrorGuard"))).applyWithGuard(function(){d({source:k,dest:l,cause:a,extraData:c})},null,[])})},"ScriptPath Notifying callbacks",{propagationType:b("TimeSlice").PropagationType.ORPHAN});function q(){return l?l.scriptPath:void 0}function r(){var a=(h||(h=b("WebStorage"))).getSessionStorage();if(!a||b("isInIframe")())return;h.setItemGuarded(a,i,JSON.stringify({pageInfo:l,clickPoint:n,time:Date.now()}))}function a(){var a=(h||(h=b("WebStorage"))).getSessionStorageForRead();if(!a)return;var c=a.getItem(i);if(c){c=JSON.parse(c);c&&(c.time<Date.now()-j&&(a=(h||(h=b("WebStorage"))).getSessionStorage(),a&&a.removeItem(i)),l=c.pageInfo,n=c.clickPoint,l&&(l.restored=!0))}}a();c={set:function(a,b,c){k=l,l={scriptPath:a,categoryToken:b,extraData:c||{}},o=[],window._script_path=a,p()},openOverlayView:function(a,b,c){if(!a)return;var d=o.length;(d===0||o[d-1]!==a)&&(k=babelHelpers["extends"]({},l),l&&(l.topViewEndpoint=a),c&&c.replaceTopOverlay&&d>0?(o[d-1]=a,p("replace_overlay_view",b)):(o.push(a),p("open_overlay_view",b)))},closeOverlayView:function(a,b){a=o.lastIndexOf(a);if(a===-1)return;k=babelHelpers["extends"]({},l);l&&(a>0?l.topViewEndpoint=o[a-1]:l.topViewEndpoint=null);o=o.slice(0,a);p("close_overlay_view",b)},setClickPointInfo:function(a){n=a,r()},getClickPointInfo:function(){return n},getScriptPath:q,getCategoryToken:function(){return l?l.categoryToken:void 0},getEarlyFlushPage:function(){var a;return(a=l)==null?void 0:(a=a.extraData)==null?void 0:a.ef_page},getTopViewEndpoint:function(){var a=o.length;return a>0?o[a-1]:q()},getPageInfo:function(){return l},getSourcePageInfo:function(){return k},subscribe:function(a){return m.add(b("TimeSlice").guard(a,"ScriptPath.subscribe"))},shutdown:function(){r()}};e.exports=c}),null);